!function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);function i({timing:t,draw:e,duration:s,onDone:i}){const r=performance.now();requestAnimationFrame(function a(o){let n=((r>o?r:o)-r)/s;n>1&&(n=1);const h=t(n);if(e(h),n<1)return requestAnimationFrame(a);"function"==typeof i&&i()})}function r(t,e){return t/100*e}var a,o;!function(t){t.dot="#82d5ee",t.pick="#4eaaee",t.text="#333",t.white="#fff",t.red="#f00"}(a||(a={}));class n{constructor(t){this.canvas=t}drawDot(t,e,s,i=a.dot){const{ctx:r}=this.canvas;r.beginPath(),r.arc(t,e,s,0,n.fullAngle),r.fillStyle=i,r.fill()}drawText(t,e,s,i="30px Arial",o=a.text,n=a.white){const{ctx:h}=this.canvas;if(null!==n){const a=h.measureText(s).width,o=parseInt(i,10),c=Math.floor(r(o,20)),d=a+2*c,l=o+2*c,u=t-c,p=e-c;this.drawRect(u,p,d,l,n)}h.font=i,h.textBaseline="top",h.fillStyle=o,h.fillText(s,t,e)}drawRect(t,e,s,i,o=a.dot,n){const{ctx:h}=this.canvas;h.beginPath(),this.saveRestoreCtx(()=>{this.rotate(n,{x:t+r(s,50),y:e+r(i,50)}),h.rect(t,e,s,i),h.fillStyle=o,h.fill()})}rotate(t,e){if(t&&0!==t){const{x:s,y:i}=e;this.canvas.ctx.translate(s,i);const r=t*n.radienMulti;this.canvas.ctx.rotate(r),this.canvas.ctx.translate(-s,-i)}}drawImage(t,e,s,i,o,n=a.white,h){const{ctx:c}=this.canvas;c.beginPath(),this.saveRestoreCtx(()=>{this.rotate(h,{x:t+r(i,50),y:e+r(o,50)}),null!==n&&this.drawRect(t,e,i,o,n),c.drawImage(s,t,e,i,o)})}saveRestoreCtx(t){const{ctx:e}=this.canvas;e.save(),t(),e.restore()}}n.fullAngle=2*Math.PI,n.radienMulti=Math.PI/180,function(t){t.linear=(t=>t),t.easeInQuad=(t=>t*t),t.easeOutQuad=(t=>t*(2-t)),t.easeInOutQuad=(t=>t<.5?2*t*t:(4-2*t)*t-1),t.easeInCubic=(t=>t*t*t),t.easeOutCubic=(t=>--t*t*t+1),t.easeInOutCubic=(t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),t.easeInQuart=(t=>t*t*t*t),t.easeOutQuart=(t=>1- --t*t*t*t),t.easeInOutQuart=(t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t),t.easeInQuint=(t=>t*t*t*t*t),t.easeOutQuint=(t=>1+--t*t*t*t*t),t.easeInOutQuint=(t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t)}(o||(o={}));var h=o.easeInOutQuint,c=o.linear;class d{constructor(t,e,s=[]){this.shapeDrawer=t,this.pathCords=e,this.years=s,this.delayRatio=150,this.pickCords=[]}get partsAmount(){return this.years.length<2?2:this.years.length}get dotsSkipped(){return Math.floor(this.pathCords.length/this.partsAmount)}drawPicks(){for(let t=0;t<this.years.length;t++){const e=this.computeCords(t);this.pickCords.push(e),this.drawPickWithDelay(e,this.delayRatio*t)}return this.pickCords}drawPickWithDelay(t,e=0){setTimeout(()=>this.drawPick(t),e)}drawPick({y:t,x:e,year:s}){i({draw:s=>this.shapeDrawer.drawDot(e,t,20*s,a.pick),duration:800,timing:h,onDone:()=>this.drawYear(e,t,s)})}drawYear(t,e,s){i({timing:c,duration:100,draw:i=>this.shapeDrawer.drawText(t-35,e+50,`${s}`,`${30*i}px Arial`,a.text,a.white)})}computeCords(t){const e=this.pathCords[(t+1)*this.dotsSkipped];return e.year=this.years[t],e}}const l=1;class u{constructor(t,e,s,i){this.shaper=t,this.pathCords=e,this.pickCords=s,this.canvas=i,this.image=new Image,this.width=120,this.height=60,this.xOffset=.8*this.width,this.yOffset=this.height+30,this.rotate=0,this.currDotCord=this.pickCords[0],this.rotate=this.computeAngle(this.currDotCord,this.pathCords[40]),console.log("rotate: ",this.rotate),document.all.next.addEventListener("click",()=>{this.nextCord()}),document.all.prev.addEventListener("click",()=>{this.prevCord()}),window.addEventListener("keydown",t=>37===t.keyCode?this.prevCord():39===t.keyCode?this.nextCord():void 0)}get cords(){const t=this.currDotCord;return{y:t.y-this.yOffset,x:t.x-this.xOffset}}downloadImage(){return new Promise(t=>{this.image.onload=(()=>{t(this),this.image.onload=null}),this.image.src="./ship.png"})}appearance(){this.move()}nextCord(){this.clean();const t=this.pathCords.findIndex(t=>t===this.currDotCord);console.log(t);const e=this.pathCords[t+1];this.rotate=this.computeAngle(this.currDotCord,e),this.currDotCord=e,this.move()}prevCord(){this.clean();const t=this.pathCords.findIndex(t=>t===this.currDotCord);console.log(t);const e=this.pathCords[t-1];this.rotate=this.computeAngle(this.currDotCord,e),this.currDotCord=e,this.move()}computeAngle(t,e){const s=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y),r=t.y-e.y>0?1:-1;r<0&&console.log("CHECK!",...arguments);const a=i/Math.sqrt(Math.pow(s,2)+Math.pow(i,2)),o=Math.asin(a)*r;console.log(`rads ${o}`);const h=-o/n.radienMulti;return console.log("rotate",h),-Math.ceil(o/n.radienMulti)}move(){this.shaper.drawDot(this.currDotCord.x,this.currDotCord.y,4,a.red),this.shaper.drawImage(this.cords.x,this.cords.y,this.image,this.width,this.height,null,this.rotate)}clean(){console.log(this.rotate),this.shaper.drawRect(this.cords.x-l,this.cords.y-l,this.width+2*l,this.height+2*l,a.white,this.rotate)}}const p=[2003,2004,2005,2006,2007,2008,2009,2010],f=new class{constructor(t){this.canvasElem=t,this.canvasElem.height=900,this.canvasElem.width=2500,this.ctx=this.canvasElem.getContext("2d"),this.ctx.mozImageSmoothingEnabled=!1,this.ctx.webkitImageSmoothingEnabled=!1,this.ctx.msImageSmoothingEnabled=!1,this.ctx.imageSmoothingEnabled=!1}get height(){return this.canvasElem.height}get width(){return this.canvasElem.width}}(document.all.canvas),w=new n(f);new class{constructor(t,e){this.canvas=t,this.shapeDrawer=e,this.xRatio=0,this.yRatio=1,this.sinRatio=70,this.yRatioMultiplier=4.2,this.xRatioMultiplier=142,this.xOffset=-120,this.lineCords=[]}drawPath(){return new Promise(t=>{const e={done:!1};!function t(e){requestAnimationFrame(()=>{e.draw(),e.until.done||t(e)})}({draw:()=>{const s=this.computeNextCords();this.lineCords.push(s);const{x:i,y:r}=s;this.drawDot(i,r),e.done=i>=this.canvas.width,e.done&&t(this)},until:e})})}drawDot(t,e){this.shapeDrawer.drawDot(t,e,2),this.xRatio+=.1}computeNextCords(){return{y:this.canvas.height+this.sinRatio*Math.sin(this.xRatio)+--this.yRatio*this.yRatioMultiplier,x:this.xRatio*this.xRatioMultiplier+this.xOffset}}}(f,w).drawPath().then(({lineCords:t})=>{const e=new d(w,t.slice(20,t.length-10),p).drawPicks();return new u(w,t,e,f).downloadImage()}).then(t=>{setTimeout(()=>{t.appearance()},700)})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vYXBwL3V0aWxzL2FuaW1hdGUudHMiLCJ3ZWJwYWNrOi8vLy4vYXBwL3V0aWxzL251bWVyaWMudHMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2NvbmZpZ3MvY29sb3JzLnRzIiwid2VicGFjazovLy8uL2FwcC91dGlscy90aW1pbmcudHMiLCJ3ZWJwYWNrOi8vLy4vYXBwL3NlcnZpY2VzL3NoYXBlLmRyYXdlci50cyIsIndlYnBhY2s6Ly8vLi9hcHAvc2VydmljZXMvcGljay5kcmF3ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vYXBwL3NlcnZpY2VzL3NoaXAuZHJhd2VyLnRzIiwid2VicGFjazovLy8uL2FwcC9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9hcHAvc2VydmljZXMvY2FudmFzLnRzIiwid2VicGFjazovLy8uL2FwcC9zZXJ2aWNlcy9wYXRoLmRyYXdlci50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImFuaW1hdGUiLCJ0aW1pbmciLCJkcmF3IiwiZHVyYXRpb24iLCJvbkRvbmUiLCJzdGFydCIsInBlcmZvcm1hbmNlIiwibm93IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidGltZSIsInRpbWVGcmFjdGlvbiIsInByb2dyZXNzIiwiZ2V0UGVyY2VudE9mIiwiaW5pdCIsInBlcmNlbnQiLCJDT0xPUlMiLCJUaW1pbmciLCJzaGFwZV9kcmF3ZXJfU2hhcGVEcmF3ZXIiLCJbb2JqZWN0IE9iamVjdF0iLCJjYW52YXMiLCJ0aGlzIiwieCIsInkiLCJyYWRpdXMiLCJjb2xvciIsImRvdCIsImN0eCIsImJlZ2luUGF0aCIsImFyYyIsImZ1bGxBbmdsZSIsImZpbGxTdHlsZSIsImZpbGwiLCJ0ZXh0IiwiZm9udFN0eWxlIiwiYmdDb2xvciIsIndoaXRlIiwidGV4dFdpZHRoIiwibWVhc3VyZVRleHQiLCJ3aWR0aCIsInRleHRIZWlnaHQiLCJwYXJzZUludCIsInBhZGRpbmciLCJNYXRoIiwiZmxvb3IiLCJ3cmFwV2lkdGgiLCJ3cmFwSGVpZ2h0Iiwid3JhcFgiLCJ3cmFwWSIsImRyYXdSZWN0IiwiZm9udCIsInRleHRCYXNlbGluZSIsImZpbGxUZXh0IiwiaGVpZ2h0IiwiZGVncmVlIiwic2F2ZVJlc3RvcmVDdHgiLCJyb3RhdGUiLCJyZWN0IiwiY2VudGVyIiwidHJhbnNsYXRlIiwicmFkcyIsInJhZGllbk11bHRpIiwiaW1nIiwiZHJhd0ltYWdlIiwiZm4iLCJzYXZlIiwicmVzdG9yZSIsIlBJIiwibGluZWFyIiwiZWFzZUluUXVhZCIsImVhc2VPdXRRdWFkIiwiZWFzZUluT3V0UXVhZCIsImVhc2VJbkN1YmljIiwiZWFzZU91dEN1YmljIiwiZWFzZUluT3V0Q3ViaWMiLCJlYXNlSW5RdWFydCIsImVhc2VPdXRRdWFydCIsImVhc2VJbk91dFF1YXJ0IiwiZWFzZUluUXVpbnQiLCJlYXNlT3V0UXVpbnQiLCJlYXNlSW5PdXRRdWludCIsInBpY2tfZHJhd2VyX1BpY2tEcmF3ZXIiLCJzaGFwZURyYXdlciIsInBhdGhDb3JkcyIsInllYXJzIiwiZGVsYXlSYXRpbyIsInBpY2tDb3JkcyIsInBhcnRzQW1vdW50IiwibGVuZ3RoIiwiZG90c1NraXBwZWQiLCJvcHRzIiwiY29tcHV0ZUNvcmRzIiwicHVzaCIsImRyYXdQaWNrV2l0aERlbGF5IiwiZGVsYXkiLCJzZXRUaW1lb3V0IiwiZHJhd1BpY2siLCJ5ZWFyIiwiZHJhd0RvdCIsInBpY2siLCJkcmF3WWVhciIsImRyYXdUZXh0IiwiaW5kZXgiLCJfb3B0cyIsImluYWNjdXJhY3kiLCJzaGlwX2RyYXdlcl9TaGlwRHJhd2VyIiwic2hhcGVyIiwiaW1hZ2UiLCJJbWFnZSIsInhPZmZzZXQiLCJ5T2Zmc2V0IiwiY3VyckRvdENvcmQiLCJjb21wdXRlQW5nbGUiLCJjb25zb2xlIiwibG9nIiwiZG9jdW1lbnQiLCJhbGwiLCJhZGRFdmVudExpc3RlbmVyIiwibmV4dENvcmQiLCJwcmV2Q29yZCIsIndpbmRvdyIsImUiLCJrZXlDb2RlIiwiY29yZHMiLCJkb3RDb3JkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJvbmxvYWQiLCJzcmMiLCJtb3ZlIiwiY2xlYW4iLCJmaW5kSW5kZXgiLCJuZXh0IiwicHJldiIsImZyb20iLCJ0byIsImNhdGhldFgiLCJhYnMiLCJjYXRoZXRZIiwiYXJndW1lbnRzIiwic2luIiwic3FydCIsInBvdyIsImFzaW4iLCJyZXN1bHQiLCJjZWlsIiwicmVkIiwiY2FudmFzRWxlbSIsImdldENvbnRleHQiLCJtb3pJbWFnZVNtb290aGluZ0VuYWJsZWQiLCJ3ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWQiLCJtc0ltYWdlU21vb3RoaW5nRW5hYmxlZCIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsInhSYXRpbyIsInlSYXRpbyIsInNpblJhdGlvIiwieVJhdGlvTXVsdGlwbGllciIsInhSYXRpb011bHRpcGxpZXIiLCJsaW5lQ29yZHMiLCJ1bnRpbCIsImRvbmUiLCJyZXBlYXQiLCJwYXJhbXMiLCJjZW50ZXJPZk5ld0RvdCIsImNvbXB1dGVOZXh0Q29yZHMiLCJkcmF3UGF0aCIsInRoZW4iLCJzbGljZSIsImRyYXdQaWNrcyIsImRvd25sb2FkSW1hZ2UiLCJzaGlwIiwiYXBwZWFyYW5jZSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0Es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S0FDQXlKLEVBQUEvSixPQUNBK0osRUFBQUgsTUFBQUMsTUFDQUMsRUFBQUMsS1NMWUQsQ0FBTSxDQUNsQjlKLEtBQUEsS0FDQSxNQUFBZ0ssRUFBQTlJLEtBQUErSSxtQkFDQS9JLEtBQUF5SSxVQUFBbEUsS0FBQXVFLEdBQ0EsTUFBQTdJLEVBQTJCQSxFQUFBQyxLQUFPNEksRUFDbEM5SSxLQUFBNkUsUUFBQTVFLEVBQUFDLEdBQ0F3SSxFQUFBQyxLQUFBMUksR0FBQUQsS0FBQUQsT0FBQW1CLE1BQ0F3SCxFQUFBQyxNQUNBbEMsRUFBQXpHLE9BR0EwSSxZQUlBNUksUUFBQUcsRUFBQUMsR0FDQUYsS0FBQTZELFlBQUFnQixRQUFBNUUsRUFBQUMsRUFBQSxHQUNBRixLQUFBb0ksUUFBQSxHQUdBdEksbUJBQ0EsT0FDQUksRUFBQUYsS0FBQUQsT0FBQWlDLE9BQUFoQyxLQUFBc0ksU0FBQWhILEtBQUFpRyxJQUFBdkgsS0FBQW9JLFVBQUFwSSxLQUFBcUksT0FBQXJJLEtBQUF1SSxpQkFDQXRJLEVBQUFELEtBQUFvSSxPQUFBcEksS0FBQXdJLGlCQUFBeEksS0FBQXdGLFdGbkJjekYsRUFBQXNGLEdBQUEyRCxXQUFBQyxLQUFBLEVBQW1DUixnQkFDakQsTUFBQXhFLEVBQUEsSUFBMEJMLEVBQVV5QixFQUFBb0QsRUFBQVMsTUFBQSxHQUFBVCxFQUFBdEUsT0FBQSxJQUFBSixHQUFBb0YsWUFDcEMsV0FBZS9ELEVBQVVDLEVBQUFvRCxFQUFBeEUsRUFBQWxFLEdBQUFxSixrQkFDeEJILEtBQUFJLElBQ0QzRSxXQUFBLEtBQ0EyRSxFQUFBQyxjQUNLIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgZnVuY3Rpb24gYW5pbWF0ZSh7IHRpbWluZywgZHJhdywgZHVyYXRpb24sIG9uRG9uZSB9KSB7XHJcbiAgICBjb25zdCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uIGFuaW1hdGUodGltZSkge1xyXG4gICAgICAgIGxldCBfdGltZSA9IHN0YXJ0ID4gdGltZSA/IHN0YXJ0IDogdGltZTtcclxuICAgICAgICBsZXQgdGltZUZyYWN0aW9uID0gKF90aW1lIC0gc3RhcnQpIC8gZHVyYXRpb247XHJcbiAgICAgICAgaWYgKHRpbWVGcmFjdGlvbiA+IDEpXHJcbiAgICAgICAgICAgIHRpbWVGcmFjdGlvbiA9IDE7XHJcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSB0aW1pbmcodGltZUZyYWN0aW9uKTtcclxuICAgICAgICBkcmF3KHByb2dyZXNzKTtcclxuICAgICAgICBpZiAodGltZUZyYWN0aW9uIDwgMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG9uRG9uZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBvbkRvbmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcmVwZWF0KHBhcmFtcykge1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICBwYXJhbXMuZHJhdygpO1xyXG4gICAgICAgIGlmICghcGFyYW1zLnVudGlsLmRvbmUpIHtcclxuICAgICAgICAgICAgcmVwZWF0KHBhcmFtcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pWVc1cGJXRjBaUzVxY3lJc0luTnZkWEpqWlZKdmIzUWlPaUlpTENKemIzVnlZMlZ6SWpwYklpNHVMeTR1THk0dUwyRndjQzkxZEdsc2N5OWhibWx0WVhSbExuUnpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSkJRVmxCTEUxQlFVMHNWVUZCVlN4UFFVRlBMRU5CUVVNc1JVRkJReXhOUVVGTkxFVkJRVVVzU1VGQlNTeEZRVUZGTEZGQlFWRXNSVUZCUlN4TlFVRk5MRVZCUVdNN1NVRkRia1VzVFVGQlRTeExRVUZMTEVkQlFVY3NWMEZCVnl4RFFVRkRMRWRCUVVjc1JVRkJSU3hEUVVGRE8wbEJSV2hETEhGQ1FVRnhRaXhEUVVGRExGTkJRVk1zVDBGQlR5eERRVUZETEVsQlFVazdVVUZEZWtNc1NVRkJTU3hMUVVGTExFZEJRVWNzUzBGQlN5eEhRVUZITEVsQlFVa3NRMEZCUXl4RFFVRkRMRU5CUVVNc1MwRkJTeXhEUVVGRExFTkJRVU1zUTBGQlF5eEpRVUZKTEVOQlFVTTdVVUZEZUVNc1NVRkJTU3haUVVGWkxFZEJRVWNzUTBGQlF5eExRVUZMTEVkQlFVY3NTMEZCU3l4RFFVRkRMRWRCUVVjc1VVRkJVU3hEUVVGRE8xRkJRemxETEVsQlFVa3NXVUZCV1N4SFFVRkhMRU5CUVVNN1dVRkJSU3haUVVGWkxFZEJRVWNzUTBGQlF5eERRVUZETzFGQlJYWkRMRTFCUVUwc1VVRkJVU3hIUVVGSExFMUJRVTBzUTBGQlF5eFpRVUZaTEVOQlFVTXNRMEZCUXp0UlFVTjBReXhKUVVGSkxFTkJRVU1zVVVGQlVTeERRVUZETEVOQlFVTTdVVUZGWml4SlFVRkpMRmxCUVZrc1IwRkJSeXhEUVVGRExFVkJRVVU3V1VGRGNFSXNUMEZCVHl4eFFrRkJjVUlzUTBGQlF5eFBRVUZQTEVOQlFVTXNRMEZCUXp0VFFVTjJRenRSUVVWRUxFbEJRVWtzVDBGQlR5eE5RVUZOTEV0QlFVc3NWVUZCVlN4RlFVRkZPMWxCUTJoRExFMUJRVTBzUlVGQlJTeERRVUZCTzFOQlExUTdTVUZEU0N4RFFVRkRMRU5CUVVNc1EwRkJRenRCUVVOTUxFTkJRVU03UVVGRlJDeE5RVUZOTEZWQlFWVXNUVUZCVFN4RFFVRkRMRTFCUVd0Q08wbEJRM1pETEhGQ1FVRnhRaXhEUVVGRExFZEJRVWNzUlVGQlJUdFJRVU42UWl4TlFVRk5MRU5CUVVNc1NVRkJTU3hGUVVGRkxFTkJRVU03VVVGRFpDeEpRVUZKTEVOQlFVTXNUVUZCVFN4RFFVRkRMRXRCUVVzc1EwRkJReXhKUVVGSkxFVkJRVVU3V1VGRGRFSXNUVUZCVFN4RFFVRkRMRTFCUVUwc1EwRkJReXhEUVVGQk8xTkJRMlk3U1VGRFNDeERRVUZETEVOQlFVTXNRMEZCUXp0QlFVVk1MRU5CUVVNaWZRPT0iLCJleHBvcnQgZnVuY3Rpb24gZ2V0UGVyY2VudE9mKGluaXQsIHBlcmNlbnQpIHtcclxuICAgIHJldHVybiBpbml0IC8gMTAwICogcGVyY2VudDtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2liblZ0WlhKcFl5NXFjeUlzSW5OdmRYSmpaVkp2YjNRaU9pSWlMQ0p6YjNWeVkyVnpJanBiSWk0dUx5NHVMeTR1TDJGd2NDOTFkR2xzY3k5dWRXMWxjbWxqTG5SeklsMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lKQlFVRkJMRTFCUVUwc1ZVRkJWU3haUVVGWkxFTkJRVU1zU1VGQldTeEZRVUZGTEU5QlFXVTdTVUZEZUVRc1QwRkJUeXhKUVVGSkxFZEJRVWNzUjBGQlJ5eEhRVUZITEU5QlFVOHNRMEZCUVR0QlFVTTNRaXhEUVVGREluMD0iLCJleHBvcnQgdmFyIENPTE9SUztcclxuKGZ1bmN0aW9uIChDT0xPUlMpIHtcclxuICAgIENPTE9SU1tcImRvdFwiXSA9IFwiIzgyZDVlZVwiO1xyXG4gICAgQ09MT1JTW1wicGlja1wiXSA9IFwiIzRlYWFlZVwiO1xyXG4gICAgQ09MT1JTW1widGV4dFwiXSA9IFwiIzMzM1wiO1xyXG4gICAgQ09MT1JTW1wid2hpdGVcIl0gPSBcIiNmZmZcIjtcclxuICAgIENPTE9SU1tcInJlZFwiXSA9IFwiI2YwMFwiO1xyXG59KShDT0xPUlMgfHwgKENPTE9SUyA9IHt9KSk7XHJcbjtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pWTI5c2IzSnpMbXB6SWl3aWMyOTFjbU5sVW05dmRDSTZJaUlzSW5OdmRYSmpaWE1pT2xzaUxpNHZMaTR2TGk0dllYQndMMk52Ym1acFozTXZZMjlzYjNKekxuUnpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSkJRVUZCTEUxQlFVMHNRMEZCVGl4SlFVRlpMRTFCVFZnN1FVRk9SQ3hYUVVGWkxFMUJRVTA3U1VGRGFFSXNlVUpCUVdVc1EwRkJRVHRKUVVObUxEQkNRVUZuUWl4RFFVRkJPMGxCUTJoQ0xIVkNRVUZoTEVOQlFVRTdTVUZEWWl4M1FrRkJZeXhEUVVGQk8wbEJRMlFzYzBKQlFWa3NRMEZCUVR0QlFVTmtMRU5CUVVNc1JVRk9WeXhOUVVGTkxFdEJRVTRzVFVGQlRTeFJRVTFxUWp0QlFVRkJMRU5CUVVNaWZRPT0iLCJleHBvcnQgdmFyIFRpbWluZztcclxuKGZ1bmN0aW9uIChUaW1pbmcpIHtcclxuICAgIFRpbWluZy5saW5lYXIgPSB0ID0+IHQ7XHJcbiAgICBUaW1pbmcuZWFzZUluUXVhZCA9IHQgPT4gdCAqIHQ7XHJcbiAgICBUaW1pbmcuZWFzZU91dFF1YWQgPSB0ID0+IHQgKiAoMiAtIHQpO1xyXG4gICAgVGltaW5nLmVhc2VJbk91dFF1YWQgPSB0ID0+IHQgPCAuNSA/IDIgKiB0ICogdCA6IC0xICsgKDQgLSAyICogdCkgKiB0O1xyXG4gICAgVGltaW5nLmVhc2VJbkN1YmljID0gdCA9PiB0ICogdCAqIHQ7XHJcbiAgICBUaW1pbmcuZWFzZU91dEN1YmljID0gdCA9PiAoLS10KSAqIHQgKiB0ICsgMTtcclxuICAgIFRpbWluZy5lYXNlSW5PdXRDdWJpYyA9IHQgPT4gdCA8IC41ID8gNCAqIHQgKiB0ICogdCA6ICh0IC0gMSkgKiAoMiAqIHQgLSAyKSAqICgyICogdCAtIDIpICsgMTtcclxuICAgIFRpbWluZy5lYXNlSW5RdWFydCA9IHQgPT4gdCAqIHQgKiB0ICogdDtcclxuICAgIFRpbWluZy5lYXNlT3V0UXVhcnQgPSB0ID0+IDEgLSAoLS10KSAqIHQgKiB0ICogdDtcclxuICAgIFRpbWluZy5lYXNlSW5PdXRRdWFydCA9IHQgPT4gdCA8IC41ID8gOCAqIHQgKiB0ICogdCAqIHQgOiAxIC0gOCAqICgtLXQpICogdCAqIHQgKiB0O1xyXG4gICAgVGltaW5nLmVhc2VJblF1aW50ID0gdCA9PiB0ICogdCAqIHQgKiB0ICogdDtcclxuICAgIFRpbWluZy5lYXNlT3V0UXVpbnQgPSB0ID0+IDEgKyAoLS10KSAqIHQgKiB0ICogdCAqIHQ7XHJcbiAgICBUaW1pbmcuZWFzZUluT3V0UXVpbnQgPSB0ID0+IHQgPCAuNSA/IDE2ICogdCAqIHQgKiB0ICogdCAqIHQgOiAxICsgMTYgKiAoLS10KSAqIHQgKiB0ICogdCAqIHQ7XHJcbn0pKFRpbWluZyB8fCAoVGltaW5nID0ge30pKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pZEdsdGFXNW5MbXB6SWl3aWMyOTFjbU5sVW05dmRDSTZJaUlzSW5OdmRYSmpaWE1pT2xzaUxpNHZMaTR2TGk0dllYQndMM1YwYVd4ekwzUnBiV2x1Wnk1MGN5SmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaVFVRkJRU3hOUVVGTkxFdEJRVmNzVFVGQlRTeERRV04wUWp0QlFXUkVMRmRCUVdsQ0xFMUJRVTA3U1VGRFVpeGhRVUZOTEVkQlFVY3NRMEZCUXl4RFFVRkRMRVZCUVVVc1EwRkJReXhEUVVGRExFTkJRVU03U1VGRGFFSXNhVUpCUVZVc1IwRkJTU3hEUVVGRExFTkJRVU1zUlVGQlJTeERRVUZETEVOQlFVTXNSMEZCUnl4RFFVRkRMRU5CUVVNN1NVRkRla0lzYTBKQlFWY3NSMEZCU1N4RFFVRkRMRU5CUVVNc1JVRkJSU3hEUVVGRExFTkJRVU1zUjBGQlJ5eERRVUZETEVOQlFVTXNSMEZCUnl4RFFVRkRMRU5CUVVNc1EwRkJRenRKUVVOb1F5eHZRa0ZCWVN4SFFVRkpMRU5CUVVNc1EwRkJReXhGUVVGRkxFTkJRVU1zUTBGQlF5eEhRVUZITEVWQlFVVXNRMEZCUXl4RFFVRkRMRU5CUVVNc1EwRkJReXhIUVVGSExFTkJRVU1zUjBGQlJ5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRMRU5CUVVNc1EwRkJReXhIUVVGSExFTkJRVU1zUTBGQlF5eEhRVUZITEVOQlFVTXNSMEZCUnl4RFFVRkRMRU5CUVVNc1IwRkJSeXhEUVVGRExFTkJRVU03U1VGRGFFVXNhMEpCUVZjc1IwRkJTU3hEUVVGRExFTkJRVU1zUlVGQlJTeERRVUZETEVOQlFVTXNSMEZCUnl4RFFVRkRMRWRCUVVjc1EwRkJReXhEUVVGRE8wbEJRemxDTEcxQ1FVRlpMRWRCUVVrc1EwRkJReXhEUVVGRExFVkJRVVVzUTBGQlF5eERRVUZETEVWQlFVVXNRMEZCUXl4RFFVRkRMRWRCUVVjc1EwRkJReXhIUVVGSExFTkJRVU1zUjBGQlJ5eERRVUZETEVOQlFVTTdTVUZEZGtNc2NVSkJRV01zUjBGQlNTeERRVUZETEVOQlFVTXNSVUZCUlN4RFFVRkRMRU5CUVVNc1IwRkJSeXhGUVVGRkxFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTXNSMEZCUnl4RFFVRkRMRWRCUVVjc1EwRkJReXhIUVVGSExFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRMRWRCUVVjc1EwRkJReXhEUVVGRExFZEJRVWNzUTBGQlF5eERRVUZETEVkQlFVY3NRMEZCUXl4SFFVRkhMRU5CUVVNc1EwRkJReXhIUVVGSExFTkJRVU1zUTBGQlF5eEhRVUZITEVOQlFVTXNSMEZCUnl4RFFVRkRMRU5CUVVNc1IwRkJSeXhEUVVGRExFTkJRVU03U1VGRGVFWXNhMEpCUVZjc1IwRkJTU3hEUVVGRExFTkJRVU1zUlVGQlJTeERRVUZETEVOQlFVTXNSMEZCUnl4RFFVRkRMRWRCUVVjc1EwRkJReXhIUVVGSExFTkJRVU1zUTBGQlF6dEpRVU5zUXl4dFFrRkJXU3hIUVVGSkxFTkJRVU1zUTBGQlF5eEZRVUZGTEVOQlFVTXNRMEZCUXl4SFFVRkhMRU5CUVVNc1JVRkJSU3hEUVVGRExFTkJRVU1zUjBGQlJ5eERRVUZETEVkQlFVY3NRMEZCUXl4SFFVRkhMRU5CUVVNc1EwRkJRenRKUVVNelF5eHhRa0ZCWXl4SFFVRkpMRU5CUVVNc1EwRkJReXhGUVVGRkxFTkJRVU1zUTBGQlF5eEhRVUZITEVWQlFVVXNRMEZCUXl4RFFVRkRMRU5CUVVNc1EwRkJReXhIUVVGSExFTkJRVU1zUjBGQlJ5eERRVUZETEVkQlFVY3NRMEZCUXl4SFFVRkhMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF5eEhRVUZITEVOQlFVTXNSMEZCUnl4RFFVRkRMRVZCUVVVc1EwRkJReXhEUVVGRExFZEJRVWNzUTBGQlF5eEhRVUZITEVOQlFVTXNSMEZCUnl4RFFVRkRMRU5CUVVNN1NVRkRPVVVzYTBKQlFWY3NSMEZCU1N4RFFVRkRMRU5CUVVNc1JVRkJSU3hEUVVGRExFTkJRVU1zUjBGQlJ5eERRVUZETEVkQlFVY3NRMEZCUXl4SFFVRkhMRU5CUVVNc1IwRkJSeXhEUVVGRExFTkJRVU03U1VGRGRFTXNiVUpCUVZrc1IwRkJTU3hEUVVGRExFTkJRVU1zUlVGQlJTeERRVUZETEVOQlFVTXNSMEZCUnl4RFFVRkRMRVZCUVVVc1EwRkJReXhEUVVGRExFZEJRVWNzUTBGQlF5eEhRVUZITEVOQlFVTXNSMEZCUnl4RFFVRkRMRWRCUVVjc1EwRkJReXhEUVVGRE8wbEJReTlETEhGQ1FVRmpMRWRCUVVrc1EwRkJReXhEUVVGRExFVkJRVVVzUTBGQlF5eERRVUZETEVkQlFVY3NSVUZCUlN4RFFVRkRMRU5CUVVNc1EwRkJReXhGUVVGRkxFZEJRVWNzUTBGQlF5eEhRVUZITEVOQlFVTXNSMEZCUnl4RFFVRkRMRWRCUVVjc1EwRkJReXhIUVVGSExFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXl4SFFVRkhMRVZCUVVVc1IwRkJSeXhEUVVGRExFVkJRVVVzUTBGQlF5eERRVUZETEVkQlFVY3NRMEZCUXl4SFFVRkhMRU5CUVVNc1IwRkJSeXhEUVVGRExFZEJRVWNzUTBGQlF5eERRVUZETzBGQlEzWkhMRU5CUVVNc1JVRmtaMElzVFVGQlRTeExRVUZPTEUxQlFVMHNVVUZqZEVJaWZRPT0iLCJpbXBvcnQgeyBnZXRQZXJjZW50T2YgfSBmcm9tICcuLi91dGlscy9udW1lcmljJztcclxuaW1wb3J0IHsgQ09MT1JTIH0gZnJvbSAnLi4vY29uZmlncy9jb2xvcnMnO1xyXG5leHBvcnQgY2xhc3MgU2hhcGVEcmF3ZXIge1xyXG4gICAgY29uc3RydWN0b3IoY2FudmFzKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICB9XHJcbiAgICBkcmF3RG90KHgsIHksIHJhZGl1cywgY29sb3IgPSBDT0xPUlMuZG90KSB7XHJcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuY2FudmFzO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYXJjKHgsIHksIHJhZGl1cywgMCwgU2hhcGVEcmF3ZXIuZnVsbEFuZ2xlKTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7XHJcbiAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgIH1cclxuICAgIGRyYXdUZXh0KHgsIHksIHRleHQsIGZvbnRTdHlsZSA9ICczMHB4IEFyaWFsJywgY29sb3IgPSBDT0xPUlMudGV4dCwgYmdDb2xvciA9IENPTE9SUy53aGl0ZSkge1xyXG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLmNhbnZhcztcclxuICAgICAgICBpZiAoYmdDb2xvciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0V2lkdGggPSBjdHgubWVhc3VyZVRleHQodGV4dCkud2lkdGg7XHJcbiAgICAgICAgICAgIGNvbnN0IHRleHRIZWlnaHQgPSBwYXJzZUludChmb250U3R5bGUsIDEwKTtcclxuICAgICAgICAgICAgY29uc3QgcGFkZGluZyA9IE1hdGguZmxvb3IoZ2V0UGVyY2VudE9mKHRleHRIZWlnaHQsIDIwKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHdyYXBXaWR0aCA9IHRleHRXaWR0aCArIHBhZGRpbmcgKiAyO1xyXG4gICAgICAgICAgICBjb25zdCB3cmFwSGVpZ2h0ID0gdGV4dEhlaWdodCArIHBhZGRpbmcgKiAyO1xyXG4gICAgICAgICAgICBjb25zdCB3cmFwWCA9IHggLSBwYWRkaW5nO1xyXG4gICAgICAgICAgICBjb25zdCB3cmFwWSA9IHkgLSBwYWRkaW5nO1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdSZWN0KHdyYXBYLCB3cmFwWSwgd3JhcFdpZHRoLCB3cmFwSGVpZ2h0LCBiZ0NvbG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3R4LmZvbnQgPSBmb250U3R5bGU7XHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICd0b3AnO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcclxuICAgICAgICBjdHguZmlsbFRleHQodGV4dCwgeCwgeSk7XHJcbiAgICB9XHJcbiAgICBkcmF3UmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBiZ0NvbG9yID0gQ09MT1JTLmRvdCwgZGVncmVlKSB7XHJcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuY2FudmFzO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICB0aGlzLnNhdmVSZXN0b3JlQ3R4KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yb3RhdGUoZGVncmVlLCB7XHJcbiAgICAgICAgICAgICAgICB4OiB4ICsgZ2V0UGVyY2VudE9mKHdpZHRoLCA1MCksXHJcbiAgICAgICAgICAgICAgICB5OiB5ICsgZ2V0UGVyY2VudE9mKGhlaWdodCwgNTApXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjdHgucmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGJnQ29sb3I7XHJcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByb3RhdGUoZGVncmVlLCBjZW50ZXIpIHtcclxuICAgICAgICBpZiAoZGVncmVlICYmIGRlZ3JlZSAhPT0gMCkge1xyXG4gICAgICAgICAgICBjb25zdCB7IHgsIHkgfSA9IGNlbnRlcjtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMuY3R4LnRyYW5zbGF0ZSh4LCB5KTtcclxuICAgICAgICAgICAgY29uc3QgcmFkcyA9IGRlZ3JlZSAqIFNoYXBlRHJhd2VyLnJhZGllbk11bHRpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5jdHgucm90YXRlKHJhZHMpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5jdHgudHJhbnNsYXRlKC14LCAteSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZHJhd0ltYWdlKHgsIHksIGltZywgd2lkdGgsIGhlaWdodCwgYmdDb2xvciA9IENPTE9SUy53aGl0ZSwgZGVncmVlKSB7XHJcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuY2FudmFzO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICB0aGlzLnNhdmVSZXN0b3JlQ3R4KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yb3RhdGUoZGVncmVlLCB7XHJcbiAgICAgICAgICAgICAgICB4OiB4ICsgZ2V0UGVyY2VudE9mKHdpZHRoLCA1MCksXHJcbiAgICAgICAgICAgICAgICB5OiB5ICsgZ2V0UGVyY2VudE9mKGhlaWdodCwgNTApXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoYmdDb2xvciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3UmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBiZ0NvbG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL3RoaXMuZHJhd1JlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCwgQ09MT1JTLnBpY2spXHJcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCB4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHNhdmVSZXN0b3JlQ3R4KGZuKSB7XHJcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuY2FudmFzO1xyXG4gICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgZm4oKTtcclxuICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgfVxyXG59XHJcblNoYXBlRHJhd2VyLmZ1bGxBbmdsZSA9IDIgKiBNYXRoLlBJO1xyXG5TaGFwZURyYXdlci5yYWRpZW5NdWx0aSA9IE1hdGguUEkgLyAxODA7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaWMyaGhjR1V1WkhKaGQyVnlMbXB6SWl3aWMyOTFjbU5sVW05dmRDSTZJaUlzSW5OdmRYSmpaWE1pT2xzaUxpNHZMaTR2TGk0dllYQndMM05sY25acFkyVnpMM05vWVhCbExtUnlZWGRsY2k1MGN5SmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaVFVRkRRU3hQUVVGUExFVkJRVVVzV1VGQldTeEZRVUZGTEUxQlFVMHNhMEpCUVd0Q0xFTkJRVU03UVVGRGFFUXNUMEZCVHl4RlFVRkZMRTFCUVUwc1JVRkJSU3hOUVVGTkxHMUNRVUZ0UWl4RFFVRkRPMEZCUnpORExFMUJRVTBzVDBGQlR5eFhRVUZYTzBsQlNYUkNMRmxCUVc5Q0xFMUJRV003VVVGQlpDeFhRVUZOTEVkQlFVNHNUVUZCVFN4RFFVRlJPMGxCUTJ4RExFTkJRVU03U1VGRlJDeFBRVUZQTEVOQlFVTXNRMEZCUXl4RlFVRkZMRU5CUVVNc1JVRkJSU3hOUVVGTkxFVkJRVVVzUzBGQlN5eEhRVUZITEUxQlFVMHNRMEZCUXl4SFFVRkhPMUZCUTNSRExFMUJRVTBzUlVGQlF5eEhRVUZITEVWQlFVTXNSMEZCUnl4SlFVRkpMRU5CUVVNc1RVRkJUU3hEUVVGRE8xRkJRekZDTEVkQlFVY3NRMEZCUXl4VFFVRlRMRVZCUVVVc1EwRkJRenRSUVVOb1FpeEhRVUZITEVOQlFVTXNSMEZCUnl4RFFVRkRMRU5CUVVNc1JVRkJSU3hEUVVGRExFVkJRVVVzVFVGQlRTeEZRVUZGTEVOQlFVTXNSVUZCUlN4WFFVRlhMRU5CUVVNc1UwRkJVeXhEUVVGRExFTkJRVU03VVVGRGFFUXNSMEZCUnl4RFFVRkRMRk5CUVZNc1IwRkJSeXhMUVVGTExFTkJRVU03VVVGRGRFSXNSMEZCUnl4RFFVRkRMRWxCUVVrc1JVRkJSU3hEUVVGQk8wbEJRMW9zUTBGQlF6dEpRVVZFTEZGQlFWRXNRMEZCUXl4RFFVRkRMRVZCUVVVc1EwRkJReXhGUVVGRkxFbEJRVWtzUlVGQlJTeFRRVUZUTEVkQlFVY3NXVUZCV1N4RlFVRkZMRXRCUVVzc1IwRkJSeXhOUVVGTkxFTkJRVU1zU1VGQlNTeEZRVUZGTEZWQlFYbENMRTFCUVUwc1EwRkJReXhMUVVGTE8xRkJRM1pITEUxQlFVMHNSVUZCUXl4SFFVRkhMRVZCUVVNc1IwRkJSeXhKUVVGSkxFTkJRVU1zVFVGQlRTeERRVUZETzFGQlJURkNMRWxCUVVrc1QwRkJUeXhMUVVGTExFbEJRVWtzUlVGQlJUdFpRVU53UWl4TlFVRk5MRk5CUVZNc1IwRkJSeXhIUVVGSExFTkJRVU1zVjBGQlZ5eERRVUZETEVsQlFVa3NRMEZCUXl4RFFVRkRMRXRCUVVzc1EwRkJRenRaUVVNNVF5eE5RVUZOTEZWQlFWVXNSMEZCUnl4UlFVRlJMRU5CUVVNc1UwRkJVeXhGUVVGRkxFVkJRVVVzUTBGQlF5eERRVUZETzFsQlF6TkRMRTFCUVUwc1QwRkJUeXhIUVVGSExFbEJRVWtzUTBGQlF5eExRVUZMTEVOQlFVTXNXVUZCV1N4RFFVRkRMRlZCUVZVc1JVRkJSU3hGUVVGRkxFTkJRVU1zUTBGQlF5eERRVUZETzFsQlEzcEVMRTFCUVUwc1UwRkJVeXhIUVVGSExGTkJRVk1zUjBGQlJ5eFBRVUZQTEVkQlFVY3NRMEZCUXl4RFFVRkRPMWxCUXpGRExFMUJRVTBzVlVGQlZTeEhRVUZITEZWQlFWVXNSMEZCUnl4UFFVRlBMRWRCUVVjc1EwRkJReXhEUVVGRE8xbEJRelZETEUxQlFVMHNTMEZCU3l4SFFVRkhMRU5CUVVNc1IwRkJSeXhQUVVGUExFTkJRVU03V1VGRE1VSXNUVUZCVFN4TFFVRkxMRWRCUVVjc1EwRkJReXhIUVVGSExFOUJRVThzUTBGQlF6dFpRVVV4UWl4SlFVRkpMRU5CUVVNc1VVRkJVU3hEUVVGRExFdEJRVXNzUlVGQlJTeExRVUZMTEVWQlFVVXNVMEZCVXl4RlFVRkZMRlZCUVZVc1JVRkJSU3hQUVVGUExFTkJRVU1zUTBGQlF6dFRRVU0zUkR0UlFVZEVMRWRCUVVjc1EwRkJReXhKUVVGSkxFZEJRVWNzVTBGQlV5eERRVUZETzFGQlEzSkNMRWRCUVVjc1EwRkJReXhaUVVGWkxFZEJRVWNzUzBGQlN5eERRVUZETzFGQlEzcENMRWRCUVVjc1EwRkJReXhUUVVGVExFZEJRVWNzUzBGQlN5eERRVUZETzFGQlEzUkNMRWRCUVVjc1EwRkJReXhSUVVGUkxFTkJRVU1zU1VGQlNTeEZRVUZGTEVOQlFVTXNSVUZCUlN4RFFVRkRMRU5CUVVNc1EwRkJRenRKUVVNelFpeERRVUZETzBsQlJVUXNVVUZCVVN4RFFVRkRMRU5CUVVNc1JVRkJSU3hEUVVGRExFVkJRVVVzUzBGQlN5eEZRVUZGTEUxQlFVMHNSVUZCUlN4UFFVRlBMRWRCUVVjc1RVRkJUU3hEUVVGRExFZEJRVWNzUlVGQlJTeE5RVUZsTzFGQlEycEZMRTFCUVUwc1JVRkJReXhIUVVGSExFVkJRVU1zUjBGQlJ5eEpRVUZKTEVOQlFVTXNUVUZCVFN4RFFVRkRPMUZCUXpGQ0xFZEJRVWNzUTBGQlF5eFRRVUZUTEVWQlFVVXNRMEZCUXp0UlFVTm9RaXhKUVVGSkxFTkJRVU1zWTBGQll5eERRVUZETEVkQlFVY3NSVUZCUlR0WlFVTjJRaXhKUVVGSkxFTkJRVU1zVFVGQlRTeERRVUZETEUxQlFVMHNSVUZCUlR0blFrRkRiRUlzUTBGQlF5eEZRVUZGTEVOQlFVTXNSMEZCUnl4WlFVRlpMRU5CUVVNc1MwRkJTeXhGUVVGRkxFVkJRVVVzUTBGQlF6dG5Ra0ZET1VJc1EwRkJReXhGUVVGRkxFTkJRVU1zUjBGQlJ5eFpRVUZaTEVOQlFVTXNUVUZCVFN4RlFVRkZMRVZCUVVVc1EwRkJRenRoUVVOb1F5eERRVUZETEVOQlFVTTdXVUZEU0N4SFFVRkhMRU5CUVVNc1NVRkJTU3hEUVVGRExFTkJRVU1zUlVGQlJTeERRVUZETEVWQlFVVXNTMEZCU3l4RlFVRkZMRTFCUVUwc1EwRkJReXhEUVVGRE8xbEJRemxDTEVkQlFVY3NRMEZCUXl4VFFVRlRMRWRCUVVjc1QwRkJUeXhEUVVGRE8xbEJRM2hDTEVkQlFVY3NRMEZCUXl4SlFVRkpMRVZCUVVVc1EwRkJRVHRSUVVOYUxFTkJRVU1zUTBGQlF5eERRVUZCTzBsQlJVb3NRMEZCUXp0SlFVVlBMRTFCUVUwc1EwRkJReXhOUVVGakxFVkJRVVVzVFVGQll6dFJRVU16UXl4SlFVRkpMRTFCUVUwc1NVRkJTU3hOUVVGTkxFdEJRVXNzUTBGQlF5eEZRVUZGTzFsQlF6RkNMRTFCUVUwc1JVRkJReXhEUVVGRExFVkJRVVVzUTBGQlF5eEZRVUZETEVkQlFVY3NUVUZCVFN4RFFVRkRPMWxCUTNSQ0xFbEJRVWtzUTBGQlF5eE5RVUZOTEVOQlFVTXNSMEZCUnl4RFFVRkRMRk5CUVZNc1EwRkJReXhEUVVGRExFVkJRVVVzUTBGQlF5eERRVUZETEVOQlFVTTdXVUZEYUVNc1RVRkJUU3hKUVVGSkxFZEJRVWNzVFVGQlRTeEhRVUZITEZkQlFWY3NRMEZCUXl4WFFVRlhMRU5CUVVNN1dVRkRPVU1zU1VGQlNTeERRVUZETEUxQlFVMHNRMEZCUXl4SFFVRkhMRU5CUVVNc1RVRkJUU3hEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETzFsQlF6ZENMRWxCUVVrc1EwRkJReXhOUVVGTkxFTkJRVU1zUjBGQlJ5eERRVUZETEZOQlFWTXNRMEZCUXl4RFFVRkRMRU5CUVVNc1JVRkJSU3hEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZCTzFOQlEyeERPMGxCUTBnc1EwRkJRenRKUVVWRUxGTkJRVk1zUTBGQlF5eERRVUZETEVWQlFVVXNRMEZCUXl4RlFVRkZMRWRCUVhGQ0xFVkJRVVVzUzBGQlN5eEZRVUZGTEUxQlFVMHNSVUZCUlN4VlFVRjVRaXhOUVVGTkxFTkJRVU1zUzBGQlN5eEZRVUZGTEUxQlFXVTdVVUZETVVjc1RVRkJUU3hGUVVGRExFZEJRVWNzUlVGQlF5eEhRVUZITEVsQlFVa3NRMEZCUXl4TlFVRk5MRU5CUVVNN1VVRkRNVUlzUjBGQlJ5eERRVUZETEZOQlFWTXNSVUZCUlN4RFFVRkRPMUZCUldoQ0xFbEJRVWtzUTBGQlF5eGpRVUZqTEVOQlFVTXNSMEZCUnl4RlFVRkZPMWxCUTNaQ0xFbEJRVWtzUTBGQlF5eE5RVUZOTEVOQlFVTXNUVUZCVFN4RlFVRkZPMmRDUVVOc1FpeERRVUZETEVWQlFVVXNRMEZCUXl4SFFVRkhMRmxCUVZrc1EwRkJReXhMUVVGTExFVkJRVVVzUlVGQlJTeERRVUZETzJkQ1FVTTVRaXhEUVVGRExFVkJRVVVzUTBGQlF5eEhRVUZITEZsQlFWa3NRMEZCUXl4TlFVRk5MRVZCUVVVc1JVRkJSU3hEUVVGRE8yRkJRMmhETEVOQlFVTXNRMEZCUXp0WlFVTklMRWxCUVVrc1QwRkJUeXhMUVVGTExFbEJRVWtzUlVGQlJUdG5Ra0ZEY0VJc1NVRkJTU3hEUVVGRExGRkJRVkVzUTBGQlF5eERRVUZETEVWQlFVVXNRMEZCUXl4RlFVRkZMRXRCUVVzc1JVRkJSU3hOUVVGTkxFVkJRVVVzVDBGQlR5eERRVUZETEVOQlFVRTdZVUZETlVNN1dVRkRSQ3hwUkVGQmFVUTdXVUZEYWtRc1IwRkJSeXhEUVVGRExGTkJRVk1zUTBGQlF5eEhRVUZITEVWQlFVVXNRMEZCUXl4RlFVRkZMRU5CUVVNc1JVRkJSU3hMUVVGTExFVkJRVVVzVFVGQlRTeERRVUZETEVOQlFVTTdVVUZETVVNc1EwRkJReXhEUVVGRExFTkJRVU03U1VGRFRDeERRVUZETzBsQlJVUXNZMEZCWXl4RFFVRkRMRVZCUVZrN1VVRkRla0lzVFVGQlRTeEZRVUZETEVkQlFVY3NSVUZCUXl4SFFVRkhMRWxCUVVrc1EwRkJReXhOUVVGTkxFTkJRVU03VVVGRE1VSXNSMEZCUnl4RFFVRkRMRWxCUVVrc1JVRkJSU3hEUVVGRE8xRkJRMWdzUlVGQlJTeEZRVUZGTEVOQlFVTTdVVUZEVEN4SFFVRkhMRU5CUVVNc1QwRkJUeXhGUVVGRkxFTkJRVU03U1VGRGFFSXNRMEZCUXpzN1FVRnVSazBzY1VKQlFWTXNSMEZCUnl4RFFVRkRMRWRCUVVjc1NVRkJTU3hEUVVGRExFVkJRVVVzUTBGQlF6dEJRVU40UWl4MVFrRkJWeXhIUVVGSExFbEJRVWtzUTBGQlF5eEZRVUZGTEVkQlFVY3NSMEZCUnl4RFFVRkRJbjA9IiwiaW1wb3J0IHsgYW5pbWF0ZSB9IGZyb20gJy4uL3V0aWxzL2FuaW1hdGUnO1xyXG5pbXBvcnQgeyBUaW1pbmcgfSBmcm9tICcuLi91dGlscy90aW1pbmcnO1xyXG52YXIgZWFzZUluT3V0UXVpbnQgPSBUaW1pbmcuZWFzZUluT3V0UXVpbnQ7XHJcbnZhciBsaW5lYXIgPSBUaW1pbmcubGluZWFyO1xyXG5pbXBvcnQgeyBDT0xPUlMgfSBmcm9tICcuLi9jb25maWdzL2NvbG9ycyc7XHJcbmV4cG9ydCBjbGFzcyBQaWNrRHJhd2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKHNoYXBlRHJhd2VyLCBwYXRoQ29yZHMsIHllYXJzID0gW10pIHtcclxuICAgICAgICB0aGlzLnNoYXBlRHJhd2VyID0gc2hhcGVEcmF3ZXI7XHJcbiAgICAgICAgdGhpcy5wYXRoQ29yZHMgPSBwYXRoQ29yZHM7XHJcbiAgICAgICAgdGhpcy55ZWFycyA9IHllYXJzO1xyXG4gICAgICAgIHRoaXMuZGVsYXlSYXRpbyA9IDE1MDtcclxuICAgICAgICB0aGlzLnBpY2tDb3JkcyA9IFtdO1xyXG4gICAgfVxyXG4gICAgZ2V0IHBhcnRzQW1vdW50KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnllYXJzLmxlbmd0aCA8IDIpXHJcbiAgICAgICAgICAgIHJldHVybiAyO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnllYXJzLmxlbmd0aDtcclxuICAgIH1cclxuICAgIGdldCBkb3RzU2tpcHBlZCgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLnBhdGhDb3Jkcy5sZW5ndGggLyB0aGlzLnBhcnRzQW1vdW50KTtcclxuICAgIH1cclxuICAgIGRyYXdQaWNrcygpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMueWVhcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0cyA9IHRoaXMuY29tcHV0ZUNvcmRzKGkpO1xyXG4gICAgICAgICAgICB0aGlzLnBpY2tDb3Jkcy5wdXNoKG9wdHMpO1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdQaWNrV2l0aERlbGF5KG9wdHMsIHRoaXMuZGVsYXlSYXRpbyAqIGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5waWNrQ29yZHM7XHJcbiAgICB9XHJcbiAgICBkcmF3UGlja1dpdGhEZWxheShvcHRzLCBkZWxheSA9IDApIHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuZHJhd1BpY2sob3B0cyksIGRlbGF5KTtcclxuICAgIH1cclxuICAgIGRyYXdQaWNrKHsgeSwgeCwgeWVhciB9KSB7XHJcbiAgICAgICAgYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgIGRyYXc6IHByb2dyZXNzID0+IHRoaXMuc2hhcGVEcmF3ZXIuZHJhd0RvdCh4LCB5LCAyMCAqIHByb2dyZXNzLCBDT0xPUlMucGljayksXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiA4MDAsXHJcbiAgICAgICAgICAgIHRpbWluZzogZWFzZUluT3V0UXVpbnQsXHJcbiAgICAgICAgICAgIG9uRG9uZTogKCkgPT4gdGhpcy5kcmF3WWVhcih4LCB5LCB5ZWFyKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZHJhd1llYXIoeCwgeSwgeWVhcikge1xyXG4gICAgICAgIGFuaW1hdGUoe1xyXG4gICAgICAgICAgICB0aW1pbmc6IGxpbmVhcixcclxuICAgICAgICAgICAgZHVyYXRpb246IDEwMCxcclxuICAgICAgICAgICAgZHJhdzogcHJvZ3Jlc3MgPT4gdGhpcy5zaGFwZURyYXdlci5kcmF3VGV4dCh4IC0gMzUsIHkgKyA1MCwgYCR7eWVhcn1gLCBgJHszMCAqIHByb2dyZXNzfXB4IEFyaWFsYCwgQ09MT1JTLnRleHQsIENPTE9SUy53aGl0ZSlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNvbXB1dGVDb3JkcyhpbmRleCkge1xyXG4gICAgICAgIGNvbnN0IF9vcHRzID0gdGhpcy5wYXRoQ29yZHNbKGluZGV4ICsgMSkgKiB0aGlzLmRvdHNTa2lwcGVkXTtcclxuICAgICAgICBfb3B0cy55ZWFyID0gdGhpcy55ZWFyc1tpbmRleF07XHJcbiAgICAgICAgcmV0dXJuIF9vcHRzO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaWNHbGpheTVrY21GM1pYSXVhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjeUk2V3lJdUxpOHVMaTh1TGk5aGNIQXZjMlZ5ZG1salpYTXZjR2xqYXk1a2NtRjNaWEl1ZEhNaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWtGQlJVRXNUMEZCVHl4RlFVRkZMRTlCUVU4c1JVRkJSU3hOUVVGTkxHdENRVUZyUWl4RFFVRkRPMEZCUXpORExFOUJRVThzUlVGQlJTeE5RVUZOTEVWQlFVVXNUVUZCVFN4cFFrRkJhVUlzUTBGQlF6dEJRVU42UXl4SlFVRlBMR05CUVdNc1IwRkJSeXhOUVVGTkxFTkJRVU1zWTBGQll5eERRVUZETzBGQlF6bERMRWxCUVU4c1RVRkJUU3hIUVVGSExFMUJRVTBzUTBGQlF5eE5RVUZOTEVOQlFVTTdRVUZET1VJc1QwRkJUeXhGUVVGRkxFMUJRVTBzUlVGQlJTeE5RVUZOTEcxQ1FVRnRRaXhEUVVGRE8wRkJUVE5ETEUxQlFVMHNUMEZCVHl4VlFVRlZPMGxCWVhKQ0xGbEJRMVVzVjBGQmQwSXNSVUZEZUVJc1UwRkJiVUlzUlVGRGJrSXNVVUZCYTBJc1JVRkJSVHRSUVVad1FpeG5Ra0ZCVnl4SFFVRllMRmRCUVZjc1EwRkJZVHRSUVVONFFpeGpRVUZUTEVkQlFWUXNVMEZCVXl4RFFVRlZPMUZCUTI1Q0xGVkJRVXNzUjBGQlRDeExRVUZMTEVOQlFXVTdVVUZtZEVJc1pVRkJWU3hIUVVGSExFZEJRVWNzUTBGQlF6dFJRVU5VTEdOQlFWTXNSMEZCWVN4RlFVRkZMRU5CUVVNN1NVRnBRbnBETEVOQlFVTTdTVUZtUkN4SlFVRlpMRmRCUVZjN1VVRkRja0lzU1VGQlNTeEpRVUZKTEVOQlFVTXNTMEZCU3l4RFFVRkRMRTFCUVUwc1IwRkJSeXhEUVVGRE8xbEJRVVVzVDBGQlR5eERRVUZETEVOQlFVTTdVVUZEY0VNc1QwRkJUeXhKUVVGSkxFTkJRVU1zUzBGQlN5eERRVUZETEUxQlFVMHNRMEZCUVR0SlFVTXhRaXhEUVVGRE8wbEJSVVFzU1VGQldTeFhRVUZYTzFGQlEzSkNMRTlCUVU4c1NVRkJTU3hEUVVGRExFdEJRVXNzUTBGQlF5eEpRVUZKTEVOQlFVTXNVMEZCVXl4RFFVRkRMRTFCUVUwc1IwRkJSeXhKUVVGSkxFTkJRVU1zVjBGQlZ5eERRVUZETEVOQlFVRTdTVUZETjBRc1EwRkJRenRKUVZWRUxGTkJRVk03VVVGRFVDeExRVUZMTEVsQlFVa3NRMEZCUXl4SFFVRkhMRU5CUVVNc1JVRkJSU3hEUVVGRExFZEJRVWNzU1VGQlNTeERRVUZETEV0QlFVc3NRMEZCUXl4TlFVRk5MRVZCUVVVc1EwRkJReXhGUVVGRkxFVkJRVVU3V1VGRE1VTXNUVUZCVFN4SlFVRkpMRWRCUVVjc1NVRkJTU3hEUVVGRExGbEJRVmtzUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXp0WlFVTnNReXhKUVVGSkxFTkJRVU1zVTBGQlV5eERRVUZETEVsQlFVa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1EwRkJRenRaUVVNeFFpeEpRVUZKTEVOQlFVTXNhVUpCUVdsQ0xFTkJRVU1zU1VGQlNTeEZRVUZGTEVsQlFVa3NRMEZCUXl4VlFVRlZMRWRCUVVjc1EwRkJReXhEUVVGRExFTkJRVU03VTBGRGJrUTdVVUZGUkN4UFFVRlBMRWxCUVVrc1EwRkJReXhUUVVGVExFTkJRVUU3U1VGRmRrSXNRMEZCUXp0SlFVVlBMR2xDUVVGcFFpeERRVUZETEVsQlFXTXNSVUZCUlN4TFFVRkxMRWRCUVVjc1EwRkJRenRSUVVOcVJDeFZRVUZWTEVOQlFVTXNSMEZCUnl4RlFVRkZMRU5CUVVNc1NVRkJTU3hEUVVGRExGRkJRVkVzUTBGQlF5eEpRVUZKTEVOQlFVTXNSVUZCUlN4TFFVRkxMRU5CUVVNc1EwRkJRVHRKUVVNNVF5eERRVUZETzBsQlJVOHNVVUZCVVN4RFFVRkRMRVZCUVVVc1EwRkJReXhGUVVGRkxFTkJRVU1zUlVGQlJTeEpRVUZKTEVWQlFWazdVVUZEZGtNc1QwRkJUeXhEUVVGRE8xbEJRMDRzU1VGQlNTeEZRVUZGTEZGQlFWRXNRMEZCUXl4RlFVRkZMRU5CUVVNc1NVRkJTU3hEUVVGRExGZEJRVmNzUTBGQlF5eFBRVUZQTEVOQlFVTXNRMEZCUXl4RlFVRkZMRU5CUVVNc1JVRkJSU3hGUVVGRkxFZEJRVWNzVVVGQlVTeEZRVUZGTEUxQlFVMHNRMEZCUXl4SlFVRkpMRU5CUVVNN1dVRkROVVVzVVVGQlVTeEZRVUZGTEVkQlFVYzdXVUZEWWl4TlFVRk5MRVZCUVVVc1kwRkJZenRaUVVOMFFpeE5RVUZOTEVWQlFVVXNSMEZCUnl4RlFVRkZMRU5CUVVNc1NVRkJTU3hEUVVGRExGRkJRVkVzUTBGQlF5eERRVUZETEVWQlFVVXNRMEZCUXl4RlFVRkZMRWxCUVVrc1EwRkJRenRUUVVONFF5eERRVUZETEVOQlFVRTdTVUZEU2l4RFFVRkRPMGxCUlU4c1VVRkJVU3hEUVVGRExFTkJRVk1zUlVGQlJTeERRVUZUTEVWQlFVVXNTVUZCV1R0UlFVTnFSQ3hQUVVGUExFTkJRVU03V1VGRFRpeE5RVUZOTEVWQlFVVXNUVUZCVFR0WlFVTmtMRkZCUVZFc1JVRkJSU3hIUVVGSE8xbEJRMklzU1VGQlNTeEZRVUZGTEZGQlFWRXNRMEZCUXl4RlFVRkZMRU5CUVVNc1NVRkJTU3hEUVVGRExGZEJRVmNzUTBGQlF5eFJRVUZSTEVOQlEzcERMRU5CUVVNc1IwRkJSeXhGUVVGRkxFVkJRMDRzUTBGQlF5eEhRVUZITEVWQlFVVXNSVUZEVGl4SFFVRkhMRWxCUVVrc1JVRkJSU3hGUVVOVUxFZEJRVWNzUlVGQlJTeEhRVUZITEZGQlFWRXNWVUZCVlN4RlFVTXhRaXhOUVVGTkxFTkJRVU1zU1VGQlNTeEZRVU5ZTEUxQlFVMHNRMEZCUXl4TFFVRkxMRU5CUTJJN1UwRkRSaXhEUVVGRExFTkJRVUU3U1VGRFNpeERRVUZETzBsQlJVOHNXVUZCV1N4RFFVRkRMRXRCUVdFN1VVRkRhRU1zVFVGQlRTeExRVUZMTEVkQlFXRXNTVUZCU1N4RFFVRkRMRk5CUVZNc1EwRkJReXhEUVVGRExFdEJRVXNzUjBGQlJ5eERRVUZETEVOQlFVTXNSMEZCUnl4SlFVRkpMRU5CUVVNc1YwRkJWeXhEUVVGUkxFTkJRVU03VVVGRE9VVXNTMEZCU3l4RFFVRkRMRWxCUVVrc1IwRkJSeXhKUVVGSkxFTkJRVU1zUzBGQlN5eERRVUZETEV0QlFVc3NRMEZCUXl4RFFVRkRPMUZCUlM5Q0xFOUJRVThzUzBGQlN5eERRVUZCTzBsQlEyUXNRMEZCUXp0RFFVTkdJbjA9IiwiaW1wb3J0IHsgU2hhcGVEcmF3ZXIgfSBmcm9tICcuL3NoYXBlLmRyYXdlcic7XHJcbmltcG9ydCB7IENPTE9SUyB9IGZyb20gJy4uL2NvbmZpZ3MvY29sb3JzJztcclxuY29uc3QgaW5hY2N1cmFjeSA9IDE7XHJcbmV4cG9ydCBjbGFzcyBTaGlwRHJhd2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKHNoYXBlciwgcGF0aENvcmRzLCBwaWNrQ29yZHMsIGNhbnZhcykge1xyXG4gICAgICAgIHRoaXMuc2hhcGVyID0gc2hhcGVyO1xyXG4gICAgICAgIHRoaXMucGF0aENvcmRzID0gcGF0aENvcmRzO1xyXG4gICAgICAgIHRoaXMucGlja0NvcmRzID0gcGlja0NvcmRzO1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLndpZHRoID0gMTIwOyAvLyBwaWN0dXJlJ3Mgd2lkdGggYWNjb3JkaW5nIHRvIGNhbnZhcy1zY2FsaW5nXHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSA2MDsgLy8gcGljdHVyZSdzIGhlaWdodCBhY2NvcmRpbmcgdG8gY2FudmFzLXNjYWxpbmdcclxuICAgICAgICB0aGlzLnhPZmZzZXQgPSB0aGlzLndpZHRoICogMC44O1xyXG4gICAgICAgIHRoaXMueU9mZnNldCA9IHRoaXMuaGVpZ2h0ICsgMzA7IC8vIDIwIGlzIGEgbWFyZ2luIGZyb20gYm90dG9tO1xyXG4gICAgICAgIHRoaXMucm90YXRlID0gMDtcclxuICAgICAgICB0aGlzLmN1cnJEb3RDb3JkID0gdGhpcy5waWNrQ29yZHNbMF07XHJcbiAgICAgICAgdGhpcy5yb3RhdGUgPSB0aGlzLmNvbXB1dGVBbmdsZSh0aGlzLmN1cnJEb3RDb3JkLCB0aGlzLnBhdGhDb3Jkc1s0MF0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdyb3RhdGU6ICcsIHRoaXMucm90YXRlKTtcclxuICAgICAgICBkb2N1bWVudC5hbGxbJ25leHQnXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5uZXh0Q29yZCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmFsbFsncHJldiddLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnByZXZDb3JkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAzNykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJldkNvcmQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAzOSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubmV4dENvcmQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZ2V0IGNvcmRzKCkge1xyXG4gICAgICAgIGNvbnN0IGRvdENvcmQgPSB0aGlzLmN1cnJEb3RDb3JkO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHk6IGRvdENvcmQueSAtIHRoaXMueU9mZnNldCxcclxuICAgICAgICAgICAgeDogZG90Q29yZC54IC0gdGhpcy54T2Zmc2V0XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGRvd25sb2FkSW1hZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLm9ubG9hZCA9IG51bGw7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gJy4vc2hpcC5wbmcnO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgYXBwZWFyYW5jZSgpIHtcclxuICAgICAgICB0aGlzLm1vdmUoKTtcclxuICAgICAgICAvL3RoaXMubW92ZUFjY29yZGluZ1RvUGF0aCgxMCwgMTYwKVxyXG4gICAgfVxyXG4gICAgbmV4dENvcmQoKSB7XHJcbiAgICAgICAgdGhpcy5jbGVhbigpO1xyXG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLnBhdGhDb3Jkcy5maW5kSW5kZXgoYyA9PiBjID09PSB0aGlzLmN1cnJEb3RDb3JkKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhpKTtcclxuICAgICAgICBjb25zdCBuZXh0ID0gdGhpcy5wYXRoQ29yZHNbaSArIDFdO1xyXG4gICAgICAgIHRoaXMucm90YXRlID0gdGhpcy5jb21wdXRlQW5nbGUodGhpcy5jdXJyRG90Q29yZCwgbmV4dCk7XHJcbiAgICAgICAgdGhpcy5jdXJyRG90Q29yZCA9IG5leHQ7XHJcbiAgICAgICAgdGhpcy5tb3ZlKCk7XHJcbiAgICB9XHJcbiAgICBwcmV2Q29yZCgpIHtcclxuICAgICAgICB0aGlzLmNsZWFuKCk7XHJcbiAgICAgICAgY29uc3QgaSA9IHRoaXMucGF0aENvcmRzLmZpbmRJbmRleChjID0+IGMgPT09IHRoaXMuY3VyckRvdENvcmQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGkpO1xyXG4gICAgICAgIGNvbnN0IHByZXYgPSB0aGlzLnBhdGhDb3Jkc1tpIC0gMV07XHJcbiAgICAgICAgdGhpcy5yb3RhdGUgPSB0aGlzLmNvbXB1dGVBbmdsZSh0aGlzLmN1cnJEb3RDb3JkLCBwcmV2KTtcclxuICAgICAgICB0aGlzLmN1cnJEb3RDb3JkID0gcHJldjtcclxuICAgICAgICB0aGlzLm1vdmUoKTtcclxuICAgIH1cclxuICAgIC8vIG1vdmVBY2NvcmRpbmdUb1BhdGgoaSwgeikge1xyXG4gICAgLy8gICBjb25zdCB1bnRpbCA9IHtkb25lOiBmYWxzZX07XHJcbiAgICAvLyAgIGxldCBfaSA9IGk7XHJcbiAgICAvLyAgIGxldCBtOiBib29sZWFuO1xyXG4gICAgLy8gICByZXBlYXQoe1xyXG4gICAgLy8gICAgIHVudGlsLFxyXG4gICAgLy8gICAgIGRyYXc6ICgpID0+IHtcclxuICAgIC8vICAgICAgIG0gPSAhbTtcclxuICAgIC8vICAgICAgIGlmICghbSkgcmV0dXJuO1xyXG4gICAgLy8gICAgICAgX2krKztcclxuICAgIC8vICAgICAgIGNvbnN0IGNvcmQgPSB0aGlzLnBhdGhDb3Jkc1tfaV07XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgLy8gY29uc3QgdCA9IHRoaXMucGF0aENvcmRzW19pIC0gMV0ueSAtIHRoaXMucGF0aENvcmRzW19pXS55O1xyXG4gICAgLy8gICAgICAgLy8gdGhpcy5zaGFwZXIuZHJhd0RvdChjb3JkLngsIGNvcmQueSwgMiwgIHQ+MCA/IENPTE9SUy50ZXh0OiBDT0xPUlMucmVkKTtcclxuICAgIC8vICAgICAgIC8vIGNvbnNvbGUubG9nKHQpXHJcbiAgICAvLyAgICAgICBjb25zdCBuZXh0ID0ge1xyXG4gICAgLy8gICAgICAgICB4OiBjb3JkLngsXHJcbiAgICAvLyAgICAgICAgIHk6IGNvcmQueVxyXG4gICAgLy8gICAgICAgfTtcclxuICAgIC8vICAgICAgIC8vIHRoaXMuY2FudmFzLmN0eC5iZWdpblBhdGgoKTtcclxuICAgIC8vICAgICAgIC8vIHRoaXMuY2FudmFzLmN0eC5tb3ZlVG8obmV4dC54LCBuZXh0LnkpO1xyXG4gICAgLy8gICAgICAgLy8gdGhpcy5jYW52YXMuY3R4LmxpbmVUbyhjb3JkLngsIGNvcmQueSk7XHJcbiAgICAvLyAgICAgICAvLyB0aGlzLmNhbnZhcy5jdHgubGluZVdpZHRoID0gMjsgLy8g0YLQvtC70YnQuNC90LAg0LvQuNC90LjQuFxyXG4gICAgLy8gICAgICAgLy8gdGhpcy5jYW52YXMuY3R4LnN0cm9rZVN0eWxlID0gXCIjZmYwMDAwXCI7IC8vINGG0LLQtdGCINC70LjQvdC40LhcclxuICAgIC8vICAgICAgIC8vIHRoaXMuY2FudmFzLmN0eC5zdHJva2UoKTtcclxuICAgIC8vICAgICAgIGNvbnN0IHJvdGF0ZSA9IHRoaXMuY29tcHV0ZUFuZ2xlKHRoaXMuY29yZHMsIG5leHQpO1xyXG4gICAgLy8gICAgICAgdGhpcy5tb3ZlKG5leHQsIHJvdGF0ZSk7XHJcbiAgICAvLyAgICAgICB1bnRpbC5kb25lID0gX2kgPT09IHo7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICB9KVxyXG4gICAgLy8gfVxyXG4gICAgY29tcHV0ZUFuZ2xlKGZyb20sIHRvKSB7XHJcbiAgICAgICAgY29uc3QgY2F0aGV0WCA9IE1hdGguYWJzKGZyb20ueCAtIHRvLngpO1xyXG4gICAgICAgIGNvbnN0IGNhdGhldFkgPSBNYXRoLmFicyhmcm9tLnkgLSB0by55KTtcclxuICAgICAgICBjb25zdCBjID0gZnJvbS55IC0gdG8ueSA+IDAgPyAxIDogLTE7XHJcbiAgICAgICAgaWYgKGMgPCAwKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgQ0hFQ0shYCwgLi4uYXJndW1lbnRzKTtcclxuICAgICAgICBjb25zdCBneXAgPSBNYXRoLnNxcnQoTWF0aC5wb3coY2F0aGV0WCwgMikgKyBNYXRoLnBvdyhjYXRoZXRZLCAyKSk7XHJcbiAgICAgICAgY29uc3Qgc2luID0gY2F0aGV0WSAvIGd5cDtcclxuICAgICAgICBjb25zdCByYWRzID0gTWF0aC5hc2luKHNpbikgKiBjO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGByYWRzICR7cmFkc31gKTtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSAtKHJhZHMgLyBTaGFwZURyYXdlci5yYWRpZW5NdWx0aSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3JvdGF0ZScsIHJlc3VsdCk7XHJcbiAgICAgICAgcmV0dXJuIC1NYXRoLmNlaWwoKHJhZHMgLyBTaGFwZURyYXdlci5yYWRpZW5NdWx0aSkpO1xyXG4gICAgfVxyXG4gICAgbW92ZSgpIHtcclxuICAgICAgICB0aGlzLnNoYXBlci5kcmF3RG90KHRoaXMuY3VyckRvdENvcmQueCwgdGhpcy5jdXJyRG90Q29yZC55LCA0LCBDT0xPUlMucmVkKTtcclxuICAgICAgICB0aGlzLnNoYXBlci5kcmF3SW1hZ2UodGhpcy5jb3Jkcy54LCB0aGlzLmNvcmRzLnksIHRoaXMuaW1hZ2UsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCBudWxsLCB0aGlzLnJvdGF0ZSk7XHJcbiAgICB9XHJcbiAgICBjbGVhbigpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnJvdGF0ZSk7XHJcbiAgICAgICAgdGhpcy5zaGFwZXIuZHJhd1JlY3QodGhpcy5jb3Jkcy54IC0gaW5hY2N1cmFjeSwgdGhpcy5jb3Jkcy55IC0gaW5hY2N1cmFjeSwgdGhpcy53aWR0aCArIDIgKiBpbmFjY3VyYWN5LCB0aGlzLmhlaWdodCArIDIgKiBpbmFjY3VyYWN5LCBDT0xPUlMud2hpdGUsIHRoaXMucm90YXRlKTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2ljMmhwY0M1a2NtRjNaWEl1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sY3lJNld5SXVMaTh1TGk4dUxpOWhjSEF2YzJWeWRtbGpaWE12YzJocGNDNWtjbUYzWlhJdWRITWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklrRkJRVUVzVDBGQlR5eEZRVUZGTEZkQlFWY3NSVUZCUlN4TlFVRk5MR2RDUVVGblFpeERRVUZETzBGQlJUZERMRTlCUVU4c1JVRkJSU3hOUVVGTkxFVkJRVVVzVFVGQlRTeHRRa0ZCYlVJc1EwRkJRenRCUVVrelF5eE5RVUZOTEZWQlFWVXNSMEZCUnl4RFFVRkRMRU5CUVVNN1FVRkZja0lzVFVGQlRTeFBRVUZQTEZWQlFWVTdTVUZyUW5KQ0xGbEJRMVVzVFVGQmJVSXNSVUZEYmtJc1UwRkJiVUlzUlVGRGJrSXNVMEZCYlVJc1JVRkRia0lzVFVGQll6dFJRVWhrTEZkQlFVMHNSMEZCVGl4TlFVRk5MRU5CUVdFN1VVRkRia0lzWTBGQlV5eEhRVUZVTEZOQlFWTXNRMEZCVlR0UlFVTnVRaXhqUVVGVExFZEJRVlFzVTBGQlV5eERRVUZWTzFGQlEyNUNMRmRCUVUwc1IwRkJUaXhOUVVGTkxFTkJRVkU3VVVGeVFtaENMRlZCUVVzc1IwRkJSeXhKUVVGSkxFdEJRVXNzUlVGQlJTeERRVUZETzFGQlIzQkNMRlZCUVVzc1IwRkJSeXhIUVVGSExFTkJRVU1zUTBGQlF5dzRRMEZCT0VNN1VVRkRNMFFzVjBGQlRTeEhRVUZITEVWQlFVVXNRMEZCUXl4RFFVRkRMQ3REUVVFclF6dFJRVU0xUkN4WlFVRlBMRWRCUVVjc1NVRkJTU3hEUVVGRExFdEJRVXNzUjBGQlJ5eEhRVUZITEVOQlFVTTdVVUZETTBJc1dVRkJUeXhIUVVGSExFbEJRVWtzUTBGQlF5eE5RVUZOTEVkQlFVY3NSVUZCUlN4RFFVRkRMRU5CUVVNc09FSkJRVGhDTzFGQlF6RkVMRmRCUVUwc1IwRkJSeXhEUVVGRExFTkJRVU03VVVGblFtcENMRWxCUVVrc1EwRkJReXhYUVVGWExFZEJRVWNzU1VGQlNTeERRVUZETEZOQlFWTXNRMEZCUXl4RFFVRkRMRU5CUVVNc1EwRkJRenRSUVVOeVF5eEpRVUZKTEVOQlFVTXNUVUZCVFN4SFFVRkhMRWxCUVVrc1EwRkJReXhaUVVGWkxFTkJRVU1zU1VGQlNTeERRVUZETEZkQlFWY3NSVUZCUlN4SlFVRkpMRU5CUVVNc1UwRkJVeXhEUVVGRExFVkJRVVVzUTBGQlF5eERRVUZETEVOQlFVTTdVVUZEZEVVc1QwRkJUeXhEUVVGRExFZEJRVWNzUTBGQlF5eFZRVUZWTEVWQlFVTXNTVUZCU1N4RFFVRkRMRTFCUVUwc1EwRkJReXhEUVVGRE8xRkJSVzVETEZGQlFWRXNRMEZCUXl4SFFVRkhMRU5CUVVNc1RVRkJUU3hEUVVGMVFpeERRVUZETEdkQ1FVRm5RaXhEUVVGRExFOUJRVThzUlVGQlJTeEhRVUZITEVWQlFVVTdXVUZEZWtVc1NVRkJTU3hEUVVGRExGRkJRVkVzUlVGQlJTeERRVUZCTzFGQlEycENMRU5CUVVNc1EwRkJReXhEUVVGRE8xRkJRMFlzVVVGQlVTeERRVUZETEVkQlFVY3NRMEZCUXl4TlFVRk5MRU5CUVhWQ0xFTkJRVU1zWjBKQlFXZENMRU5CUVVNc1QwRkJUeXhGUVVGRkxFZEJRVWNzUlVGQlJUdFpRVU42UlN4SlFVRkpMRU5CUVVNc1VVRkJVU3hGUVVGRkxFTkJRVUU3VVVGRGFrSXNRMEZCUXl4RFFVRkRMRU5CUVVNN1VVRkZTQ3hOUVVGTkxFTkJRVU1zWjBKQlFXZENMRU5CUVVNc1UwRkJVeXhGUVVGRkxFTkJRVU1zUTBGQlF5eEZRVUZGTEVWQlFVVTdXVUZEZGtNc1NVRkJTU3hEUVVGRExFTkJRVU1zVDBGQlR5eExRVUZMTEVWQlFVVXNSVUZCUlR0blFrRkRjRUlzVDBGQlR5eEpRVUZKTEVOQlFVTXNVVUZCVVN4RlFVRkZMRU5CUVVFN1lVRkRka0k3V1VGRlJDeEpRVUZKTEVOQlFVTXNRMEZCUXl4UFFVRlBMRXRCUVVzc1JVRkJSU3hGUVVGRk8yZENRVU53UWl4UFFVRlBMRWxCUVVrc1EwRkJReXhSUVVGUkxFVkJRVVVzUTBGQlFUdGhRVU4yUWp0UlFVTklMRU5CUVVNc1EwRkJReXhEUVVGQk8wbEJSVW9zUTBGQlF6dEpRVzVEUkN4SlFVRlpMRXRCUVVzN1VVRkRaaXhOUVVGTkxFOUJRVThzUjBGQlJ5eEpRVUZKTEVOQlFVTXNWMEZCVnl4RFFVRkRPMUZCUTJwRExFOUJRVTg3V1VGRFRDeERRVUZETEVWQlFVVXNUMEZCVHl4RFFVRkRMRU5CUVVNc1IwRkJSeXhKUVVGSkxFTkJRVU1zVDBGQlR6dFpRVU16UWl4RFFVRkRMRVZCUVVVc1QwRkJUeXhEUVVGRExFTkJRVU1zUjBGQlJ5eEpRVUZKTEVOQlFVTXNUMEZCVHp0VFFVTTFRaXhEUVVGQk8wbEJRMGdzUTBGQlF6dEpRU3RDUkN4aFFVRmhPMUZCUTFnc1QwRkJUeXhKUVVGSkxFOUJRVThzUTBGQlF5eFBRVUZQTEVOQlFVTXNSVUZCUlR0WlFVTXpRaXhKUVVGSkxFTkJRVU1zUzBGQlN5eERRVUZETEUxQlFVMHNSMEZCUnl4SFFVRkhMRVZCUVVVN1owSkJRM1pDTEU5QlFVOHNRMEZCUXl4SlFVRkpMRU5CUVVNc1EwRkJRenRuUWtGRFpDeEpRVUZKTEVOQlFVTXNTMEZCU3l4RFFVRkRMRTFCUVUwc1IwRkJSeXhKUVVGSkxFTkJRVUU3V1VGRE1VSXNRMEZCUXl4RFFVRkRPMWxCUTBZc1NVRkJTU3hEUVVGRExFdEJRVXNzUTBGQlF5eEhRVUZITEVkQlFVY3NXVUZCV1N4RFFVRkJPMUZCUXk5Q0xFTkJRVU1zUTBGQlF5eERRVUZETzBsQlEwd3NRMEZCUXp0SlFVVkVMRlZCUVZVN1VVRkRVaXhKUVVGSkxFTkJRVU1zU1VGQlNTeEZRVUZGTEVOQlFVRTdVVUZEV0N4dFEwRkJiVU03U1VGRGNrTXNRMEZCUXp0SlFVVkVMRkZCUVZFN1VVRkRUaXhKUVVGSkxFTkJRVU1zUzBGQlN5eEZRVUZGTEVOQlFVTTdVVUZEWWl4TlFVRk5MRU5CUVVNc1IwRkJSeXhKUVVGSkxFTkJRVU1zVTBGQlV5eERRVUZETEZOQlFWTXNRMEZCUXl4RFFVRkRMRU5CUVVNc1JVRkJSU3hEUVVGRExFTkJRVU1zUzBGQlN5eEpRVUZKTEVOQlFVTXNWMEZCVnl4RFFVRkRMRU5CUVVNN1VVRkRhRVVzVDBGQlR5eERRVUZETEVkQlFVY3NRMEZCUXl4RFFVRkRMRU5CUVVNc1EwRkJRenRSUVVObUxFMUJRVTBzU1VGQlNTeEhRVUZITEVsQlFVa3NRMEZCUXl4VFFVRlRMRU5CUVVNc1EwRkJReXhIUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETzFGQlEycERMRWxCUVVrc1EwRkJReXhOUVVGTkxFZEJRVWNzU1VGQlNTeERRVUZETEZsQlFWa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1YwRkJWeXhGUVVGRkxFbEJRVWtzUTBGQlF5eERRVUZETzFGQlEzaEVMRWxCUVVrc1EwRkJReXhYUVVGWExFZEJRVWNzU1VGQlNTeERRVUZETzFGQlEzaENMRWxCUVVrc1EwRkJReXhKUVVGSkxFVkJRVVVzUTBGQlF6dEpRVU5rTEVOQlFVTTdTVUZGUkN4UlFVRlJPMUZCUlU0c1NVRkJTU3hEUVVGRExFdEJRVXNzUlVGQlJTeERRVUZETzFGQlEySXNUVUZCVFN4RFFVRkRMRWRCUVVjc1NVRkJTU3hEUVVGRExGTkJRVk1zUTBGQlF5eFRRVUZUTEVOQlFVTXNRMEZCUXl4RFFVRkRMRVZCUVVVc1EwRkJReXhEUVVGRExFdEJRVXNzU1VGQlNTeERRVUZETEZkQlFWY3NRMEZCUXl4RFFVRkRPMUZCUTJoRkxFOUJRVThzUTBGQlF5eEhRVUZITEVOQlFVTXNRMEZCUXl4RFFVRkRMRU5CUVVNN1VVRkRaaXhOUVVGTkxFbEJRVWtzUjBGQlJ5eEpRVUZKTEVOQlFVTXNVMEZCVXl4RFFVRkRMRU5CUVVNc1IwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF6dFJRVU5xUXl4SlFVRkpMRU5CUVVNc1RVRkJUU3hIUVVGSExFbEJRVWtzUTBGQlF5eFpRVUZaTEVOQlFVTXNTVUZCU1N4RFFVRkRMRmRCUVZjc1JVRkJSU3hKUVVGSkxFTkJRVU1zUTBGQlF6dFJRVU40UkN4SlFVRkpMRU5CUVVNc1YwRkJWeXhIUVVGSExFbEJRVWtzUTBGQlF6dFJRVU40UWl4SlFVRkpMRU5CUVVNc1NVRkJTU3hGUVVGRkxFTkJRVU03U1VGRFpDeERRVUZETzBsQlJVUXNPRUpCUVRoQ08wbEJRemxDTEdsRFFVRnBRenRKUVVOcVF5eG5Ra0ZCWjBJN1NVRkRhRUlzYjBKQlFXOUNPMGxCUTNCQ0xHRkJRV0U3U1VGRFlpeGhRVUZoTzBsQlEySXNiMEpCUVc5Q08wbEJRM0JDTEdkQ1FVRm5RanRKUVVOb1FpeDNRa0ZCZDBJN1NVRkRlRUlzWTBGQll6dEpRVU5rTEhsRFFVRjVRenRKUVVONlF5eEZRVUZGTzBsQlEwWXNjMFZCUVhORk8wbEJRM1JGTEcxR1FVRnRSanRKUVVOdVJpd3dRa0ZCTUVJN1NVRkRNVUlzZFVKQlFYVkNPMGxCUTNaQ0xIRkNRVUZ4UWp0SlFVTnlRaXh2UWtGQmIwSTdTVUZEY0VJc1YwRkJWenRKUVVOWUxIZERRVUYzUXp0SlFVTjRReXh0UkVGQmJVUTdTVUZEYmtRc2JVUkJRVzFFTzBsQlEyNUVMREpFUVVFeVJEdEpRVU16UkN4clJVRkJhMFU3U1VGRGJFVXNjVU5CUVhGRE8wbEJRM0pETERSRVFVRTBSRHRKUVVNMVJDeHBRMEZCYVVNN1NVRkRha01zSzBKQlFTdENPMGxCUXk5Q0xGRkJRVkU3U1VGRFVpeFBRVUZQTzBsQlExQXNTVUZCU1R0SlFVVktMRmxCUVZrc1EwRkJReXhKUVVGWkxFVkJRVVVzUlVGQlZUdFJRVU51UXl4TlFVRk5MRTlCUVU4c1IwRkJSeXhKUVVGSkxFTkJRVU1zUjBGQlJ5eERRVUZETEVsQlFVa3NRMEZCUXl4RFFVRkRMRWRCUVVjc1JVRkJSU3hEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETzFGQlEzaERMRTFCUVUwc1QwRkJUeXhIUVVGSExFbEJRVWtzUTBGQlF5eEhRVUZITEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNc1IwRkJSeXhGUVVGRkxFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTTdVVUZEZUVNc1RVRkJUU3hEUVVGRExFZEJRVWNzU1VGQlNTeERRVUZETEVOQlFVTXNSMEZCUnl4RlFVRkZMRU5CUVVNc1EwRkJReXhIUVVGSExFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF6dFJRVVZ5UXl4SlFVRkpMRU5CUVVNc1IwRkJSeXhEUVVGRE8xbEJRVVVzVDBGQlR5eERRVUZETEVkQlFVY3NRMEZCUXl4UlFVRlJMRVZCUVVVc1IwRkJSeXhUUVVGVExFTkJRVU1zUTBGQlF6dFJRVVV2UXl4TlFVRk5MRWRCUVVjc1IwRkJSeXhKUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4SFFVRkhMRU5CUVVNc1QwRkJUeXhGUVVGRkxFTkJRVU1zUTBGQlF5eEhRVUZITEVsQlFVa3NRMEZCUXl4SFFVRkhMRU5CUVVNc1QwRkJUeXhGUVVGRkxFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTTdVVUZEYmtVc1RVRkJUU3hIUVVGSExFZEJRVWNzVDBGQlR5eEhRVUZITEVkQlFVY3NRMEZCUXp0UlFVTXhRaXhOUVVGTkxFbEJRVWtzUjBGQlJ5eEpRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRWRCUVVjc1EwRkJReXhIUVVGRExFTkJRVU1zUTBGQlF6dFJRVU01UWl4UFFVRlBMRU5CUVVNc1IwRkJSeXhEUVVGRExGRkJRVkVzU1VGQlNTeEZRVUZGTEVOQlFVTXNRMEZCUXp0UlFVTTFRaXhOUVVGTkxFMUJRVTBzUjBGQlJ5eERRVUZETEVOQlFVTXNTVUZCU1N4SFFVRkhMRmRCUVZjc1EwRkJReXhYUVVGWExFTkJRVU1zUTBGQlF6dFJRVU5xUkN4UFFVRlBMRU5CUVVNc1IwRkJSeXhEUVVGRExGRkJRVkVzUlVGQlJTeE5RVUZOTEVOQlFVTXNRMEZCUXp0UlFVTTVRaXhQUVVGUExFTkJRVU1zU1VGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4RFFVRkRMRWxCUVVrc1IwRkJSeXhYUVVGWExFTkJRVU1zVjBGQlZ5eERRVUZETEVOQlFVTXNRMEZCUVR0SlFVTnlSQ3hEUVVGRE8wbEJTVThzU1VGQlNUdFJRVU5XTEVsQlFVa3NRMEZCUXl4TlFVRk5MRU5CUVVNc1QwRkJUeXhEUVVGRExFbEJRVWtzUTBGQlF5eFhRVUZYTEVOQlFVTXNRMEZCUXl4RlFVRkZMRWxCUVVrc1EwRkJReXhYUVVGWExFTkJRVU1zUTBGQlF5eEZRVUZGTEVOQlFVTXNSVUZCUlN4TlFVRk5MRU5CUVVNc1IwRkJSeXhEUVVGRExFTkJRVUU3VVVGRE1VVXNTVUZCU1N4RFFVRkRMRTFCUVUwc1EwRkJReXhUUVVGVExFTkJRVU1zU1VGQlNTeERRVUZETEV0QlFVc3NRMEZCUXl4RFFVRkRMRVZCUVVVc1NVRkJTU3hEUVVGRExFdEJRVXNzUTBGQlF5eERRVUZETEVWQlFVVXNTVUZCU1N4RFFVRkRMRXRCUVVzc1JVRkJSU3hKUVVGSkxFTkJRVU1zUzBGQlN5eEZRVUZGTEVsQlFVa3NRMEZCUXl4TlFVRk5MRVZCUVVVc1NVRkJTU3hGUVVGRkxFbEJRVWtzUTBGQlF5eE5RVUZOTEVOQlFVTXNRMEZCUVR0SlFVTXpSeXhEUVVGRE8wbEJSVThzUzBGQlN6dFJRVU5ZTEU5QlFVOHNRMEZCUXl4SFFVRkhMRU5CUVVNc1NVRkJTU3hEUVVGRExFMUJRVTBzUTBGQlF5eERRVUZETzFGQlEzcENMRWxCUVVrc1EwRkJReXhOUVVGTkxFTkJRVU1zVVVGQlVTeERRVU5zUWl4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExFTkJRVU1zUjBGQlJ5eFZRVUZWTEVWQlEzcENMRWxCUVVrc1EwRkJReXhMUVVGTExFTkJRVU1zUTBGQlF5eEhRVUZITEZWQlFWVXNSVUZEZWtJc1NVRkJTU3hEUVVGRExFdEJRVXNzUjBGQlJ5eERRVUZETEVkQlFVY3NWVUZCVlN4RlFVTXpRaXhKUVVGSkxFTkJRVU1zVFVGQlRTeEhRVUZITEVOQlFVTXNSMEZCUnl4VlFVRlZMRVZCUXpWQ0xFMUJRVTBzUTBGQlF5eExRVUZMTEVWQlExb3NTVUZCU1N4RFFVRkRMRTFCUVUwc1EwRkRXaXhEUVVGRE8wbEJRMG9zUTBGQlF6dERRVWRHSW4wPSIsImltcG9ydCB7IENhbnZhcyB9IGZyb20gJy4vc2VydmljZXMvY2FudmFzJztcclxuaW1wb3J0IHsgUGF0aERyYXdlciB9IGZyb20gJy4vc2VydmljZXMvcGF0aC5kcmF3ZXInO1xyXG5pbXBvcnQgeyBTaGFwZURyYXdlciB9IGZyb20gJy4vc2VydmljZXMvc2hhcGUuZHJhd2VyJztcclxuaW1wb3J0IHsgUGlja0RyYXdlciB9IGZyb20gJy4vc2VydmljZXMvcGljay5kcmF3ZXInO1xyXG5pbXBvcnQgeyBTaGlwRHJhd2VyIH0gZnJvbSAnLi9zZXJ2aWNlcy9zaGlwLmRyYXdlcic7XHJcbmNvbnN0IHllYXJzID0gWzIwMDMsIDIwMDQsIDIwMDUsIDIwMDYsIDIwMDcsIDIwMDgsIDIwMDksIDIwMTBdO1xyXG5jb25zdCBjYW52YXMgPSBuZXcgQ2FudmFzKGRvY3VtZW50LmFsbFsnY2FudmFzJ10pO1xyXG5jb25zdCBzaGFwZXIgPSBuZXcgU2hhcGVEcmF3ZXIoY2FudmFzKTtcclxuLy8gbmV3IFRlc3RJbWFnZURyYXdlcihzaGFwZXIpLmRvd25sb2FkSW1hZ2UoKS50aGVuKHQgPT4ge1xyXG4vLyAgIGFuaW1hdGUoe1xyXG4vLyAgICAgZHJhdzogcCA9PiB7XHJcbi8vICAgICAgIHQubW92ZSh7XHJcbi8vICAgICAgICAgeTozMDAsXHJcbi8vICAgICAgICAgeDogcCoxMDAwXHJcbi8vICAgICAgIH0sIDM2MCpwKVxyXG4vLyAgICAgfSxcclxuLy8gICAgIHRpbWluZzogbGluZWFyLFxyXG4vLyAgICAgZHVyYXRpb246IDIwMDBcclxuLy8gICB9KVxyXG4vLyB9KVxyXG5uZXcgUGF0aERyYXdlcihjYW52YXMsIHNoYXBlcikuZHJhd1BhdGgoKS50aGVuKCh7IGxpbmVDb3JkcyB9KSA9PiB7XHJcbiAgICBjb25zdCBwaWNrQ29yZHMgPSBuZXcgUGlja0RyYXdlcihzaGFwZXIsIGxpbmVDb3Jkcy5zbGljZSgyMCwgbGluZUNvcmRzLmxlbmd0aCAtIDEwKSwgeWVhcnMpLmRyYXdQaWNrcygpO1xyXG4gICAgcmV0dXJuIG5ldyBTaGlwRHJhd2VyKHNoYXBlciwgbGluZUNvcmRzLCBwaWNrQ29yZHMsIGNhbnZhcykuZG93bmxvYWRJbWFnZSgpO1xyXG59KS50aGVuKHNoaXAgPT4ge1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgc2hpcC5hcHBlYXJhbmNlKCk7XHJcbiAgICB9LCA3MDApO1xyXG4gICAgLy9zaGlwLmFwcGVhcmFuY2UoKTtcclxuICAgIC8vIHNldFRpbWVvdXQoKCkgPT4gc2hpcC5tb3ZlKHt4OiA2MCwgeTogMjUwfSksIDUwMCk7XHJcbiAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHNoaXAuc21vb3RoTW92ZSh7eDogNTYwLCB5OiAyNTB9KSwgMTUwMClcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaWFXNWtaWGd1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sY3lJNld5SXVMaTh1TGk5aGNIQXZhVzVrWlhndWRITWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklrRkJRVUVzVDBGQlR5eEZRVUZGTEUxQlFVMHNSVUZCUlN4TlFVRk5MRzFDUVVGdFFpeERRVUZETzBGQlF6TkRMRTlCUVU4c1JVRkJSU3hWUVVGVkxFVkJRVVVzVFVGQlRTeDNRa0ZCZDBJc1EwRkJRenRCUVVOd1JDeFBRVUZQTEVWQlFVVXNWMEZCVnl4RlFVRkZMRTFCUVUwc2VVSkJRWGxDTEVOQlFVTTdRVUZEZEVRc1QwRkJUeXhGUVVGRkxGVkJRVlVzUlVGQlJTeE5RVUZOTEhkQ1FVRjNRaXhEUVVGRE8wRkJRM0JFTEU5QlFVOHNSVUZCUlN4VlFVRlZMRVZCUVVVc1RVRkJUU3gzUWtGQmQwSXNRMEZCUXp0QlFVMXdSQ3hOUVVGTkxFdEJRVXNzUjBGQlJ5eERRVUZETEVsQlFVa3NSVUZCUlN4SlFVRkpMRVZCUVVVc1NVRkJTU3hGUVVGRkxFbEJRVWtzUlVGQlJTeEpRVUZKTEVWQlFVVXNTVUZCU1N4RlFVRkZMRWxCUVVrc1JVRkJSU3hKUVVGSkxFTkJRVU1zUTBGQlF6dEJRVU12UkN4TlFVRk5MRTFCUVUwc1IwRkJSeXhKUVVGSkxFMUJRVTBzUTBGQlF5eFJRVUZSTEVOQlFVTXNSMEZCUnl4RFFVRkRMRkZCUVZFc1EwRkJReXhEUVVGRExFTkJRVU03UVVGRGJFUXNUVUZCVFN4TlFVRk5MRWRCUVVjc1NVRkJTU3hYUVVGWExFTkJRVU1zVFVGQlRTeERRVUZETEVOQlFVTTdRVUZGZGtNc01FUkJRVEJFTzBGQlF6RkVMR05CUVdNN1FVRkRaQ3h0UWtGQmJVSTdRVUZEYmtJc2FVSkJRV2xDTzBGQlEycENMR2xDUVVGcFFqdEJRVU5xUWl4dlFrRkJiMEk3UVVGRGNFSXNhMEpCUVd0Q08wRkJRMnhDTEZOQlFWTTdRVUZEVkN4elFrRkJjMEk3UVVGRGRFSXNjVUpCUVhGQ08wRkJRM0pDTEU5QlFVODdRVUZEVUN4TFFVRkxPMEZCUlV3c1NVRkJTU3hWUVVGVkxFTkJRVU1zVFVGQlRTeEZRVUZGTEUxQlFVMHNRMEZCUXl4RFFVRkRMRkZCUVZFc1JVRkJSU3hEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETEVWQlFVTXNVMEZCVXl4RlFVRkRMRVZCUVVVc1JVRkJSVHRKUVVNM1JDeE5RVUZOTEZOQlFWTXNSMEZCUnl4SlFVRkpMRlZCUVZVc1EwRkJReXhOUVVGTkxFVkJRVVVzVTBGQlV5eERRVUZETEV0QlFVc3NRMEZCUXl4RlFVRkZMRVZCUVVVc1UwRkJVeXhEUVVGRExFMUJRVTBzUjBGQlJ5eEZRVUZGTEVOQlFVTXNSVUZCUlN4TFFVRkxMRU5CUVVNc1EwRkJReXhUUVVGVExFVkJRVVVzUTBGQlF6dEpRVU40Unl4UFFVRlBMRWxCUVVrc1ZVRkJWU3hEUVVGRExFMUJRVTBzUlVGQlJTeFRRVUZUTEVWQlFVVXNVMEZCVXl4RlFVRkZMRTFCUVUwc1EwRkJReXhEUVVGRExHRkJRV0VzUlVGQlJTeERRVUZETzBGQlJUbEZMRU5CUVVNc1EwRkJReXhEUVVGRExFbEJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNSVUZCUlR0SlFVTmlMRlZCUVZVc1EwRkJReXhIUVVGSExFVkJRVVU3VVVGRFpDeEpRVUZKTEVOQlFVTXNWVUZCVlN4RlFVRkZMRU5CUVVNN1NVRkRjRUlzUTBGQlF5eEZRVUZGTEVkQlFVY3NRMEZCUXl4RFFVRkJPMGxCUTFBc2IwSkJRVzlDTzBsQlEzQkNMSEZFUVVGeFJEdEpRVU55UkN3MFJFRkJORVE3UVVGRE9VUXNRMEZCUXl4RFFVRkRMRU5CUVVNaWZRPT0iLCJleHBvcnQgY2xhc3MgQ2FudmFzIHtcclxuICAgIGNvbnN0cnVjdG9yKGNhbnZhc0VsZW0pIHtcclxuICAgICAgICB0aGlzLmNhbnZhc0VsZW0gPSBjYW52YXNFbGVtO1xyXG4gICAgICAgIHRoaXMuY2FudmFzRWxlbS5oZWlnaHQgPSA5MDA7IC8vIHRoaXMgaGVpZ2h0IDQwMHgyICg0MDAgPT09ICB2aWV3Ym94LWltYWdlIGluIHBhcnRpY3VsYXIgdGFzaylcclxuICAgICAgICB0aGlzLmNhbnZhc0VsZW0ud2lkdGggPSAyNTAwOyAvLyB0aGlzIGhlaWdodCAxMjUweDIgKDEyNTAgPT09IHZpZXdib3gtaW1hZ2UgaW4gcGFydGljdWxhciB0YXNrKVxyXG4gICAgICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXNFbGVtLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgdGhpcy5jdHgubW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jdHgud2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jdHgubXNJbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGdldCBoZWlnaHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzRWxlbS5oZWlnaHQ7XHJcbiAgICB9XHJcbiAgICBnZXQgd2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzRWxlbS53aWR0aDtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lZMkZ1ZG1GekxtcHpJaXdpYzI5MWNtTmxVbTl2ZENJNklpSXNJbk52ZFhKalpYTWlPbHNpTGk0dkxpNHZMaTR2WVhCd0wzTmxjblpwWTJWekwyTmhiblpoY3k1MGN5SmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaVFVRkJRU3hOUVVGTkxFOUJRVThzVFVGQlRUdEpRVWRxUWl4WlFVRnhRaXhWUVVFMlFqdFJRVUUzUWl4bFFVRlZMRWRCUVZZc1ZVRkJWU3hEUVVGdFFqdFJRVU5vUkN4SlFVRkpMRU5CUVVNc1ZVRkJWU3hEUVVGRExFMUJRVTBzUjBGQlJ5eEhRVUZITEVOQlFVTXNRMEZCUXl4blJVRkJaMFU3VVVGRE9VWXNTVUZCU1N4RFFVRkRMRlZCUVZVc1EwRkJReXhMUVVGTExFZEJRVWNzU1VGQlNTeERRVUZETEVOQlFVTXNhVVZCUVdsRk8xRkJSUzlHTEVsQlFVa3NRMEZCUXl4SFFVRkhMRWRCUVVjc1NVRkJTU3hEUVVGRExGVkJRVlVzUTBGQlF5eFZRVUZWTEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNN1VVRkRNME1zU1VGQlNTeERRVUZETEVkQlFWY3NRMEZCUXl4M1FrRkJkMElzUjBGQlJ5eExRVUZMTEVOQlFVTTdVVUZEYkVRc1NVRkJTU3hEUVVGRExFZEJRVmNzUTBGQlF5d3lRa0ZCTWtJc1IwRkJSeXhMUVVGTExFTkJRVU03VVVGRGNrUXNTVUZCU1N4RFFVRkRMRWRCUVZjc1EwRkJReXgxUWtGQmRVSXNSMEZCUnl4TFFVRkxMRU5CUVVNN1VVRkRiRVFzU1VGQlNTeERRVUZETEVkQlFVY3NRMEZCUXl4eFFrRkJjVUlzUjBGQlJ5eExRVUZMTEVOQlFVTTdTVUZEZWtNc1EwRkJRenRKUVVWRUxFbEJRVWtzVFVGQlRUdFJRVU5TTEU5QlFVOHNTVUZCU1N4RFFVRkRMRlZCUVZVc1EwRkJReXhOUVVGTkxFTkJRVUU3U1VGREwwSXNRMEZCUXp0SlFVVkVMRWxCUVVrc1MwRkJTenRSUVVOUUxFOUJRVThzU1VGQlNTeERRVUZETEZWQlFWVXNRMEZCUXl4TFFVRkxMRU5CUVVFN1NVRkRPVUlzUTBGQlF6dERRVU5HSW4wPSIsImltcG9ydCB7IHJlcGVhdCB9IGZyb20gJy4uL3V0aWxzL2FuaW1hdGUnO1xyXG5leHBvcnQgY2xhc3MgUGF0aERyYXdlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihjYW52YXMsIHNoYXBlRHJhd2VyKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgdGhpcy5zaGFwZURyYXdlciA9IHNoYXBlRHJhd2VyO1xyXG4gICAgICAgIHRoaXMueFJhdGlvID0gMDtcclxuICAgICAgICB0aGlzLnlSYXRpbyA9IDE7XHJcbiAgICAgICAgdGhpcy5zaW5SYXRpbyA9IDcwO1xyXG4gICAgICAgIHRoaXMueVJhdGlvTXVsdGlwbGllciA9IDQuMjtcclxuICAgICAgICB0aGlzLnhSYXRpb011bHRpcGxpZXIgPSAxNDI7XHJcbiAgICAgICAgdGhpcy54T2Zmc2V0ID0gLTEyMDtcclxuICAgICAgICB0aGlzLmxpbmVDb3JkcyA9IFtdO1xyXG4gICAgfVxyXG4gICAgZHJhd1BhdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB1bnRpbCA9IHsgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgcmVwZWF0KHtcclxuICAgICAgICAgICAgICAgIGRyYXc6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJPZk5ld0RvdCA9IHRoaXMuY29tcHV0ZU5leHRDb3JkcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGluZUNvcmRzLnB1c2goY2VudGVyT2ZOZXdEb3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gY2VudGVyT2ZOZXdEb3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3RG90KHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHVudGlsLmRvbmUgPSB4ID49IHRoaXMuY2FudmFzLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1bnRpbC5kb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHVudGlsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZHJhd0RvdCh4LCB5KSB7XHJcbiAgICAgICAgdGhpcy5zaGFwZURyYXdlci5kcmF3RG90KHgsIHksIDIpO1xyXG4gICAgICAgIHRoaXMueFJhdGlvICs9IDAuMTsgLyoqIHNpbXBsZSBmYWN0b3IgZ290IGJ5IGV4cGVyZW1lbnRhbCBydW5uaW5nKi9cclxuICAgICAgICA7XHJcbiAgICB9XHJcbiAgICBjb21wdXRlTmV4dENvcmRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHk6IHRoaXMuY2FudmFzLmhlaWdodCArIHRoaXMuc2luUmF0aW8gKiBNYXRoLnNpbih0aGlzLnhSYXRpbykgKyAoLS10aGlzLnlSYXRpbyAqIHRoaXMueVJhdGlvTXVsdGlwbGllciksXHJcbiAgICAgICAgICAgIHg6IHRoaXMueFJhdGlvICogdGhpcy54UmF0aW9NdWx0aXBsaWVyICsgdGhpcy54T2Zmc2V0XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2ljR0YwYUM1a2NtRjNaWEl1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sY3lJNld5SXVMaTh1TGk4dUxpOWhjSEF2YzJWeWRtbGpaWE12Y0dGMGFDNWtjbUYzWlhJdWRITWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklrRkJSVUVzVDBGQlR5eEZRVUZGTEUxQlFVMHNSVUZCUlN4TlFVRk5MR3RDUVVGclFpeERRVUZETzBGQlJ6RkRMRTFCUVUwc1QwRkJUeXhWUVVGVk8wbEJVM0pDTEZsQlExVXNUVUZCWXl4RlFVTmtMRmRCUVhkQ08xRkJSSGhDTEZkQlFVMHNSMEZCVGl4TlFVRk5MRU5CUVZFN1VVRkRaQ3huUWtGQlZ5eEhRVUZZTEZkQlFWY3NRMEZCWVR0UlFWWXhRaXhYUVVGTkxFZEJRVWNzUTBGQlF5eERRVUZETzFGQlExZ3NWMEZCVFN4SFFVRkhMRU5CUVVNc1EwRkJRenRSUVVOWUxHRkJRVkVzUjBGQlJ5eEZRVUZGTEVOQlFVTTdVVUZEWkN4eFFrRkJaMElzUjBGQlJ5eEhRVUZITEVOQlFVTTdVVUZEZGtJc2NVSkJRV2RDTEVkQlFVY3NSMEZCUnl4RFFVRkRPMUZCUTNaQ0xGbEJRVThzUjBGQlJ5eERRVUZETEVkQlFVY3NRMEZCUXp0UlFVTjJRaXhqUVVGVExFZEJRV0VzUlVGQlJTeERRVUZETzBsQlRYcENMRU5CUVVNN1NVRkZSQ3hSUVVGUk8xRkJRMDRzVDBGQlR5eEpRVUZKTEU5QlFVOHNRMEZCUXl4UFFVRlBMRU5CUVVNc1JVRkJSVHRaUVVNelFpeE5RVUZOTEV0QlFVc3NSMEZCUnl4RlFVRkRMRWxCUVVrc1JVRkJSU3hMUVVGTExFVkJRVU1zUTBGQlF6dFpRVU0xUWl4TlFVRk5MRU5CUVVNN1owSkJRMHdzU1VGQlNTeEZRVUZGTEVkQlFVY3NSVUZCUlR0dlFrRkRWQ3hOUVVGTkxHTkJRV01zUjBGQlJ5eEpRVUZKTEVOQlFVTXNaMEpCUVdkQ0xFVkJRVVVzUTBGQlF6dHZRa0ZETDBNc1NVRkJTU3hEUVVGRExGTkJRVk1zUTBGQlF5eEpRVUZKTEVOQlFVTXNZMEZCWXl4RFFVRkRMRU5CUVVNN2IwSkJSWEJETEUxQlFVMHNSVUZCUXl4RFFVRkRMRVZCUVVVc1EwRkJReXhGUVVGRExFZEJRVWNzWTBGQll5eERRVUZETzI5Q1FVTTVRaXhKUVVGSkxFTkJRVU1zVDBGQlR5eERRVUZETEVOQlFVTXNSVUZCUlN4RFFVRkRMRU5CUVVNc1EwRkJRenR2UWtGRGJrSXNTMEZCU3l4RFFVRkRMRWxCUVVrc1IwRkJSeXhEUVVGRExFbEJRVWtzU1VGQlNTeERRVUZETEUxQlFVMHNRMEZCUXl4TFFVRkxMRU5CUVVNN2IwSkJSWEJETEVsQlFVa3NTMEZCU3l4RFFVRkRMRWxCUVVrc1JVRkJSVHQzUWtGRFpDeFBRVUZQTEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNN2NVSkJRMlk3WjBKQlEwZ3NRMEZCUXp0blFrRkRSQ3hMUVVGTE8yRkJRMDRzUTBGQlF5eERRVUZETzFGQlEwd3NRMEZCUXl4RFFVRkRMRU5CUVVNN1NVRkRUQ3hEUVVGRE8wbEJSVThzVDBGQlR5eERRVUZETEVOQlFWTXNSVUZCUlN4RFFVRlRPMUZCUTJ4RExFbEJRVWtzUTBGQlF5eFhRVUZYTEVOQlFVTXNUMEZCVHl4RFFVRkRMRU5CUVVNc1JVRkJSU3hEUVVGRExFVkJRVVVzUTBGQlF5eERRVUZETEVOQlFVTTdVVUZEYkVNc1NVRkJTU3hEUVVGRExFMUJRVTBzU1VGQlNTeEhRVUZITEVOQlFVTXNRMEZCUXl3clEwRkJLME03VVVGQlFTeERRVUZETzBsQlEzUkZMRU5CUVVNN1NVRkZUeXhuUWtGQlowSTdVVUZEZEVJc1QwRkJUenRaUVVOTUxFTkJRVU1zUlVGQlJTeEpRVUZKTEVOQlFVTXNUVUZCVFN4RFFVRkRMRTFCUVUwc1IwRkJSeXhKUVVGSkxFTkJRVU1zVVVGQlVTeEhRVUZITEVsQlFVa3NRMEZCUXl4SFFVRkhMRU5CUVVNc1NVRkJTU3hEUVVGRExFMUJRVTBzUTBGQlF5eEhRVUZITEVOQlFVTXNSVUZCUlN4SlFVRkpMRU5CUVVNc1RVRkJUU3hIUVVGSExFbEJRVWtzUTBGQlF5eG5Ra0ZCWjBJc1EwRkJRenRaUVVOMlJ5eERRVUZETEVWQlFVVXNTVUZCU1N4RFFVRkRMRTFCUVUwc1IwRkJSeXhKUVVGSkxFTkJRVU1zWjBKQlFXZENMRWRCUVVjc1NVRkJTU3hEUVVGRExFOUJRVTg3VTBGRGRFUXNRMEZCUVR0SlFVTklMRU5CUVVNN1EwRkRSaUo5Il0sInNvdXJjZVJvb3QiOiIifQ==